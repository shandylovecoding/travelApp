(this.$WP=this.$WP||[]).push(["_azji4",(e,a)=>{"use strict";var t,i,n,r,l,d,o,s,u,c,m,g,b,I,v,k,p=({businessContact:e,mobileOffer:a,desktopOffer:i,adSlot:n,albumId:r,categoryId:l,typeId:d,mediaId:o,referenceMediaId:s,locationId:c,locationName:b,secondaryTitleContent:I,actionHandler:v,enablePopupFooter:k,hideMASQuickAlbums:p,disableControls:y,getShareUrlForMedia:O,galleryRenderer:S,fullscreenRenderer:f,sort:C,customMobileButtonMenus:R,quickAlbumsConfiguration:h,queryClientOverride:A,heroDataStrategyOverride:N,pageDataStrategyOverride:E,trackingCallback:M})=>t.createElement(u,{mobileRenderer:()=>t.createElement(g,{businessContact:e,offer:a,actionHandler:v,categoryId:l,albumId:r,typeId:d,mediaId:o,referenceMediaId:s,locationId:c,locationName:b,getShareUrlForMedia:O,scrollHideCommerce:k,skipQuickAlbums:p,disableControls:y,customButtonMenus:R,galleryRendererOverride:S,fullscreenRendererOverride:f,sort:C,quickAlbumsConfiguration:h,queryClientOverride:A,heroDataStrategyOverride:N,pageDataStrategyOverride:E,trackingCallback:M}),desktopRenderer:()=>t.createElement(m,{businessContact:e,offer:i,adSlot:n,actionHandler:v,categoryId:l,albumId:r,typeId:d,mediaId:o,referenceMediaId:s,locationId:c,locationName:b,secondaryTitleContent:I,getShareUrlForMedia:O,skipQuickAlbums:p,disableControls:y,galleryRendererOverride:S,fullscreenRendererOverride:f,sort:C,quickAlbumsConfiguration:h,queryClientOverride:A,heroDataStrategyOverride:N,pageDataStrategyOverride:E,trackingCallback:M})}),y=e=>{var a=(null==e?void 0:e.albumId)||d;return n({albumId:a,mediaId:null==e?void 0:e.mediaId,categoryId:a})},O=e=>{var{locationId:a,initialSettings:n,hideHeaderControls:d,hideMASQuickAlbums:u,mobilePortraitFooterSlot:c,enablePopupAnimationMobilePortraitFooter:m,mobileLandscapeHeaderSlot:g,desktopHeaderRightSlot:k,businessContact:p,leftRailSlot:O,onClose:S,actionHandler:f,getShareUrlForMedia:C,galleryRenderer:R,fullscreenRenderer:h,customMobileButtonMenus:A,routeFragmentIdentifier:N,queryClientOverride:E,heroDataStrategyOverride:M,pageDataStrategyOverride:T,quickAlbumsConfiguration:F,trackingCallback:L}=e,[D,_]=t.useState({isOpen:!1,shouldToggle:!1,lock:!1,hasOpened:!1}),j=t.useCallback(((e,a)=>{try{f&&"INITIAL_ALBUM_UPDATE"!==a.type&&f(a)}catch(e){a.type}switch(a.type){case"ROUTE_NAVIGATE":return Object.assign({},a.newState,{sort:e.sort});case"ALBUM":return Object.assign({},e,{albumId:a.albumId,typeId:r(),categoryId:a.categoryId?a.categoryId:a.albumId,mediaId:null});case"FULLSCREEN_NAV":case"GALLERY_CLICK":return a.newMedia.media?Object.assign({},e,{mediaId:{id:a.newMedia.media.mediaId,type:a.newMedia.media.type}}):e;case"FULLSCREEN_CLOSE":return Object.assign({},e,{mediaId:null});case"CATEGORY_CHANGE":return Object.assign({},e,{categoryId:a.categoryId});case"SOURCE_CHANGE":return Object.assign({},e,{typeId:a.typeId});case"INVALIDATE_REFERENCE_MEDIA":return Object.assign({},e,{mediaId:null});case"SORT":return Object.assign({},e,{sort:a.sort});case"CLOSE":return _((e=>e.isOpen?Object.assign({},e,{isOpen:!0,shouldToggle:!0}):e)),e;case"ERROR":return v;default:return e}}),[f]),[U,q]=t.useReducer(j,y(n)),w=null!=N,{clearFragment:H,initialRouteState:B}=o(a,w&&D.isOpen?U:null,N,q);t.useEffect((()=>{n&&!D.isOpen&&(q({type:l.routeNavigate,newState:y(n)}),_((e=>Object.assign({},e,{isOpen:!1,shouldToggle:!0}))))}),[n,_,D]),t.useEffect((()=>{!w||!B||n||D.isOpen||D.hasOpened||D.lock||(q({type:l.routeNavigate,newState:B}),_((e=>Object.assign({},e,{isOpen:!1,shouldToggle:!0}))))}),[w,B,n,D,_]),t.useEffect((()=>{D.shouldToggle&&(D.isOpen&&D.lock?_((e=>Object.assign({},e,{isOpen:!1,shouldToggle:!1,lock:!1}))):D.isOpen||D.lock||_({isOpen:!0,shouldToggle:!1,lock:!0,hasOpened:!0}))}),[D,_]),t.useEffect((()=>{D.isOpen&&D.shouldToggle&&(w&&H(),S&&S())}),[D,S,w,H]);var P=e=>e&&g?g():!e&&c?c():null;if(!D.isOpen)return null;var V=(null==n?void 0:n.albumId)||(null==B?void 0:B.albumId),Q=(null==n?void 0:n.mediaId)||(null==B?void 0:B.mediaId);return t.createElement(i,{query:I,variables:{locationId:a}},(({data:e})=>{var i,n,r,l,o=null==e||null==(i=e.locations)||null==(n=i[0])?void 0:n.name,I=null==e||null==(r=e.locations)||null==(l=r[0])?void 0:l.reviewSummary,v=(null==I?void 0:I.rating)&&(null==I?void 0:I.rating)>=0&&(null==I?void 0:I.count)&&(null==I?void 0:I.count)>0;return t.createElement(b,{enablePopupFooter:m,businessContact:p,mobileOffer:(g||c)&&P,desktopOffer:k,adSlot:O,albumId:U.albumId,categoryId:U.categoryId,typeId:U.typeId,mediaId:U.mediaId,referenceMediaId:U.albumId===V?Q:null,locationId:a,locationName:o,secondaryTitleContent:I&&v?t.createElement(s,{rating:I.rating||0,numReviews:I.count||0}):void 0,actionHandler:q,hideMASQuickAlbums:u,disableControls:d,getShareUrlForMedia:C,galleryRenderer:R,fullscreenRenderer:h,sort:U.sort,customMobileButtonMenus:A,quickAlbumsConfiguration:F,queryClientOverride:E,heroDataStrategyOverride:M,pageDataStrategyOverride:T,trackingCallback:L})}))};return[()=>{m=c.onUsage((()=>a("_azji4/35NN-R")),"default"),g=c.onUsage((()=>a("_azji4/Xncs_3")),"default"),b=t.memo(p),(I=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"MVLocationQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"reviewSummary"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"rating"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"count"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"mediaCount"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":174}}')).__key=0x70f72402d50c,v=y(),k=t.memo(O),e("default",k)},[e=>t=e,e=>i=e.Query,e=>(n=e.buildDefaultState,r=e.getCurrentAllMediaGroupTypeId,l=e.actions,d=e.ALL_ALBUM),e=>o=e.useRouteHandler,e=>s=e.BubbleRatingWithReviewCount,e=>u=e.default,e=>c=e.component]]},["cDcdfi","5X2em-","wc54S1","eh0n4_","MBK0so","RZRW7o","pLbCP4"]]);
