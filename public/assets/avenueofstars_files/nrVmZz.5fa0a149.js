(this.$WP=this.$WP||[]).push(["nrVmZz",(e,t)=>{"use strict";var s,r,u,a,c=[],i=!0,n=()=>{var{securityToken:e}=s.useContext(r),[,{uid:t}]=s.useContext(u),n=s.useCallback((()=>{i=!1;var s=c;if(c=[],s.length){var r=`metricsData=${encodeURIComponent(JSON.stringify(s))}`;fetch("/MetricsAjax",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8","X-Requested-By":e,Accept:"text/html, */*","X-Puid":t},body:r,credentials:"same-origin"})}}),[e,t]);return s.useEffect((()=>{a((()=>requestIdleCallback((()=>{c.length?setTimeout(n,3500):i=!1}))))}),[n]),s.useCallback((e=>{e&&e.length&&(c.push(...e),i||(i=!0,setTimeout(n,1500)))}),[n])};return[()=>{e("default",n),e("useRecordMetrics",n)},[e=>s=e,e=>(r=e.Device,u=e.Route),e=>a=e.requestTTICallback]]},["cDcdfi","2R4xv2","6NeHQy"]]);
