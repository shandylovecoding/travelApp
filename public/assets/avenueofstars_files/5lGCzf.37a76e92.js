(this.$WP=this.$WP||[]).push(["5lGCzf",(e,a)=>{"use strict";var t,l,r,n,s,u,i,c,m,d,o,_,p,E,f,v,g,b,I,h,L,y=({selectedSourceId:e,sourceCounts:a,onSelect:t})=>{var{localize:l}=v(),n=r.useMemo((()=>{if(!a)return[];var e=[];return Object.keys(a).includes(u.all2)&&a[u.all2]>0?e.push(u.all2):Object.keys(a).includes(u.all)&&a[u.all]>0&&e.push(u.all),Object.keys(a).includes(u.traveler)&&a[u.traveler]>0&&e.push(u.traveler),Object.keys(a).includes(u.mgmt)&&a[u.mgmt]>0&&e.push(u.mgmt),Object.keys(a).includes(u.staff)&&a[u.staff]>0&&e.push(u.staff),2===e.length&&e.shift(),e.filter((a=>!(2===e.length&&(a===u.all||a===u.all2)))).map((e=>({value:e,displayName:l.string("mv_photos_from_with_count",{source:i(c(e),l),count:a[e]})})))}),[a,l]);if(0===n.length)return null;var o=n.find((a=>a.value===m[e]))?m[e]:n[0].value;return r.createElement("div",{className:"_2YDuyvX-"},r.createElement(s,{label:l.string("hr_mediaviewer_filter_by_label"),trigger:"chip",options:n,value:o,onChange:e=>t(d[e]),fullscreenMobile:!0}))},A="BvvdHsi0",S=({expanded:e,onClick:a})=>r.createElement(h,{onClick:a},r.createElement("span",{className:"_1YKZuBb1"},e?r.createElement(r.Fragment,null,r.createElement("span",{className:A},r.createElement(f,{id:"mv_hide_filters"})),r.createElement(I,{name:"single-chevron-up"})):r.createElement(r.Fragment,null,r.createElement("span",{className:A},r.createElement(f,{id:"mv_see_all_filters"})),r.createElement(I,{name:"single-chevron-down"})))),C=({name:e,count:a,onSelect:t,selected:l})=>{var{localize:n}=v();if(!a)return null;var s=n.string("phoenix_accessibility_apply_filter_label",{0:e});return r.createElement(L,{selected:l,onClick:t,"aria-label":s,marginX:"spacing-01",marginBottom:"spacing-02"},r.createElement(f,{id:"airm_geo_fffff486",args:{0:e,1:a}}))},M="_2aImTkfw",N=({albums:e,selectedTypeId:a,selectedFilterId:t,selectedAlbumId:l,onSelect:n,onExpandChange:s})=>{var u,i=g(),c=e,m=r.useRef(!0),[E,f]=r.useState(!1);u=a===d.ALL_INCLUDING_RESTRICTED||a===d.ALL_UNRESTRICTED?o(d.ALL_UNRESTRICTED):o(a);var v=_.has(l)||t===p.PANO_ALBUM;if(v){var I=e.find((e=>e.albumId===t));I&&(c=[I])}var h=e=>()=>n(e),L=c.filter((e=>e.mediaCounts[u]>0));r.useLayoutEffect((()=>{f(!1),m.current=!0,s(m.current)}),[l,s]),r.useLayoutEffect((()=>{var e=1===L.length;v||e?(f(!0),m.current=!1):m.current=!0}),[l,v,L]);var y=r.createElement(S,{expanded:E,onClick:()=>(i(E?b.HIDE_FILTERS_CLICK:b.SEE_ALL_FILTERS_CLICK),f(!E))});if(!E){var A=L.filter((e=>e.albumId===t||t===p.TRAVELER_ALBUM&&e.albumId===p.ALL_ALBUMS));return r.createElement("span",null,A.map((e=>r.createElement("span",{key:`span-${e.albumId}`,className:M},r.createElement(C,{key:e.albumId,name:e.name,count:e.mediaCounts[u],onSelect:h(e.albumId),selected:!0})))),m.current&&r.createElement("span",{className:"_3IgMddjL"},y))}return r.createElement("div",{className:M},L.map((e=>{if(l!==p.VIDEO&&e.albumId===p.VIDEO||t!==p.PANO_ALBUM&&e.albumId===p.PANO_ALBUM)return null;var a=e.albumId===t||t===p.TRAVELER_ALBUM&&e.albumId===p.ALL_ALBUMS;return r.createElement(C,{key:e.albumId,name:e.name,count:e.mediaCounts[u],onSelect:h(e.albumId),selected:a})})),m.current&&r.createElement("div",null,y))},T=({selectedSort:e,onSelect:a})=>{var{localize:t}=v(),l=n.useMemo((()=>[{value:E.ML,displayName:t.string("hr_mediaviewer_filter_by_featured")},{value:E.RECENCY,displayName:t.string("hr_mediaviewer_filter_by_recency")}]),[t]);return n.createElement(s,{label:t.string("hr_mediaviewer_sort_by_label"),options:l,value:e,onChange:a,menuVariant:"trailing-top-caret",trigger:"chip",fullscreenMobile:!0})},k=(e,a,r,n,s,u,i)=>{var c={locationId:e,albumId:a,client:r,filter:n,configuration:s,photos360Enabled:u},[m]=t({query:l,variables:c,pause:i}),{data:d}=m;return d};return[()=>{e({AlbumPills:N,SortDropdown:T,SourceFilterDropdown:y,useMASFilters:k})},[e=>t=e.useQuery,e=>l=e.quickAlbumsQuery,e=>(r=e,n=e.default),e=>s=e.DropdownMenu,e=>(u=e.mediaGroups,i=e.getTitleForMediaGroup,c=e.getMediaGroupForString,m=e.idToMediaGroup,d=e.mediaGroupIds,o=e.getMediaGroupStringForId,_=e.categoryIdsThatAreAlbumIdsSet,p=e.AlbumTypes,E=e.mediaSortType),e=>(f=e.default,v=e.useLocalize),e=>(g=e.useMVTracking,b=e.trackedPageActions),e=>I=e.default,e=>h=e.BorderlessButton,e=>L=e.ChipButton]]},["5X2em-","n4rOEs","cDcdfi","MCrJhI","wc54S1","0DsHEV","yOERmA","pyY-iJ","7yGKf-","QLckY2"]]);
