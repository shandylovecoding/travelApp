(this.$WP=this.$WP||[]).push(["lMO0v3",(e,n)=>{"use strict";var t,o,i,r,a,s,c,u,l,d,v,f,p;function h(e){var[n,t]=o(!1);return i((()=>{var n=D(e,(()=>t(!0)));return()=>n()}),[e]),n}var m={expires:365},g="uninitialized",C="disabled",b="pending",w="received",E="timeout",P={ADVERTISING:"advertising",ANALYTICS:"analytics & customisation",ALL:"all",ESSENTIAL:"essential"},A={advertising:"ADV","analytics & customisation":"ANA",all:"ALL"};function L(e,n){var t=e.findIndex((e=>e===n));e.splice(t,1)}var O={id:1402,test:!1},k=["//c.evidon.com/sitenotice/evidon-sitenotice-tag.js","//c.evidon.com/geo/country.js","//c.evidon.com/sitenotice/1402/snthemes.js","//c.evidon.com/sitenotice/1402/tripadvisor/settings.js"],y=[],S=[];function j(e){e&&Object.entries(e).forEach((([e,n])=>{f.set(e,!!n)})),function(e){var n=(e=>{var n=[],t=[];if(void 0!==e){if(e.all)return'{"out":"","in":"ALL"}';var o=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(A,["all"]);Object.keys(o).forEach((o=>{if(o!==P.ESSENTIAL){var i=A[o];!0===e[o]?n.push(i):t.push(i)}}))}return JSON.stringify({out:t.join(),in:n.join()})})(e);c.set("TATrkConsent",btoa(n),m)}(e),y.forEach((e=>e())),y.length=0}function I(e){if("function"!=typeof e)throw new Error("Invalid argument. Expected a function - got "+typeof e);var n=()=>{v!==E&&e()};switch(v){case C:case w:e();break;case b:y.push(n)}return()=>L(y,n)}function D(e,n,t){if(!Object.values(P).includes(e))throw new Error(`"${e}" is not a known consent category. Supported values are: ${Object.values(P).join(", ")}`);if("function"!=typeof n)throw new Error('Invalid argument. "onConsent" should be a function');if(!["function","undefined"].includes(typeof t))throw new Error('Invalid argument. "onDeclined" should be a function');var o=()=>{f.get(e)||f.get(P.ALL)?n():t&&t()};if(e===P.ESSENTIAL)return n(),()=>{};switch(v){case C:n();break;case E:t&&t();break;case w:o();break;case b:y.push(o)}return()=>L(y,o)}function R(){var e;(null==(e=evidon)?void 0:e.notice)&&evidon.notice.showPreferencesDialog("prior-consent")}function T(){var[e,n]=o(void 0);return i((()=>{var e=function(e){var n=()=>{var n,t,o,i;(null==(n=evidon.notice)||null==n.isGDPR?void 0:n.isGDPR())?e("GDPR"):(null==(t=evidon.notice)||null==t.isCCPA?void 0:t.isCCPA())?e("CCPA"):"br"===(null==(o=evidon.notice)||null==(i=o.country)?void 0:i.code)?e("LGPD"):e("NONE")};return evidon&&evidon.notice||v===C?n():S.push(n),()=>L(S,n)}(n);return()=>e()}),[]),{isPending:void 0===e,isRequired:"GDPR"===e||"LGPD"===e}}var N=({children:e,category:n=P.ALL,deferOnly:t=!1})=>{var[r,a]=o(!1);return i((()=>{var e=()=>{a(!0)},o=t?I(e):D(n,e);return()=>o()}),[n,t]),r&&e},G=({children:e})=>{var[n]=r(u),{isWebview:o}=r(l),a=o||"RegistrationController"===n.page&&!n.params.fullscreen||"1"===c.get("forceConsentOptOut");return i((()=>{a||(()=>{var e,n,t=(null==(e=window)||null==(n=e.location)?void 0:n.hostname)||"";if(t.includes("tripadvisor-preview"))v=C;else if(v===g){v=b;var o=setTimeout((()=>{v=E,j()}),5e3);(function({onConsentUpdate:e,userId:n,hostname:t}){if("undefined"==typeof window||!window.document)return Promise.reject(new Error("Attempted to load Evidon during SSR"));n&&(evidon.userId=n),evidon.priorConsentCallback=(n,o,i)=>{var r,a=Object.values(n).every((e=>!0===e));e(a?{all:a}:Object.assign({},n)),c.remove("_evidon_suppress_notification_cookie",{path:"/",domain:null==(r=t.match(".tripadvisor.*"))?void 0:r[0]})},evidon.closeCallback=()=>{evidon.notice.dropSuppressionCookie(365)},evidon.consentWithdrawnCallback=()=>{},evidon.consentChangedCallback=()=>{location.reload()},evidon.consentDeclinedCallback=()=>{evidon.notice.dropSuppressionCookie(365),e({all:!1})};var o=k.map((e=>s(e,"WP")));return Promise.all(o)})({hostname:t,onConsentUpdate:e=>{v=w,j(e)}}).then((()=>{clearTimeout(o),S.forEach((e=>e())),S.length=0}))}})()}),[a]),t.createElement(t.Fragment,null,!a&&k.map((e=>t.createElement(d,{path:e,key:e}))),e,!a&&"Home"===n.page&&t.createElement(p,null))};return e({enqueue:I,requestConsent:D,showConsentPreferences:R,useConsent:h,useOptInRequired:T}),[()=>{globalThis.evidon=globalThis.evidon||Object.assign({},O),v=g,f=new Map,p=a.component.onUsage((()=>n("lMO0v3/GzJMLX")),"default"),e({CategoriesEnum:P,ConsentGate:N,ConsentProvider:G,enqueue:I,requestConsent:D,showConsentPreferences:R,useConsent:h,useOptInRequired:T})},[e=>(t=e.default,o=e.useState,i=e.useEffect,r=e.useContext),e=>(a=e,s=e.importScript),e=>c=e.default,e=>(u=e.Route,l=e.Device),e=>d=e.PreloadedScript]]},["cDcdfi","pLbCP4","vmXh3M","2R4xv2","E8NZou"]]);
