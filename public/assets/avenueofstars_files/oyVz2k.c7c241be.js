(this.$WP=this.$WP||[]).push(["oyVz2k",(e,l)=>{"use strict";var t,a,i,n,s,c,r,o,u,m,d="_1f6ZwVS4",f=e=>`${e}px`,h=({quickAlbums:e,contentFocus:l,onSelect:s,selectedId:c,mode:r,onShowAll:o,topBar:u,children:m,isLandscape:h,scrollPosition:_})=>{var v=t.useRef(),N=t.useRef(),{localize:E}=a(),b=((e=0)=>{var[l,a]=t.useState([0,0,0]);t.useEffect((()=>{var t=l[0]>e?-1:1,i=t<0&&l[1]>0;a([e,t,i?e:l[2]])}),[e]);var[i,n,s]=l,c="no-collapse";return i>=48&&(c="album-collapse"),i>=92&&(c="full-collapse"),"full-collapse"===c&&n<0&&Math.abs(i-s)>10&&(c="album-collapse"),c})(_),{ready:p,width:g,height:k}=i(v),A=null;if(t.useEffect((()=>{N.current&&N.current.scrollIntoView({inline:"center"})}),[c,r]),e){var D=["_2LRDLXDB"],S=t.createElement(t.Fragment,null,t.createElement("div",{className:"_1I45UXXn"},E.string("media_viewer_album_title")),"showAll"!==r&&t.createElement("div",{onTouchEnd:o,onClick:o,className:"_3l1q30C4"},E.string("media_viewer_quick_albums_see_all")));if(p){var w=148,M=92,q={top:0,left:0},y=!0;if("none"!==r&&e&&0!==e.length)if("showAll"===r){D.push("_2_pbUfzL");for(var P=5,C=g-24,L=C/P;L<115&&P>1;)L=C/--P;w=Math.floor(C/P),M=Math.floor(Math.max(92,.618*w))}else if(h)D.push("_3SNXUB_q"),q=Object.assign({},q,{width:f(g),height:f(M)}),M*e.length<k-48+M/2&&D.push(d);else{switch(D.push("_1sXzo0DF"),b){case"album-collapse":D.push("_1gLi37Ii");break;case"full-collapse":D.push("cr69cSRN")}w=Math.min(148,g/2.382),q=Object.assign({},q,{width:f(w),maxHeight:f(M)}),w*e.length<g-16+w/2&&D.push(d)}else y=!1;if(y){var F=e.map((e=>t.createElement("div",{key:e.id,className:"catK0D5E",style:q,ref:e.id===c?N:null},t.createElement(n,{glassMode:!0,titleNode:e.titleNode,thumbnailNode:e.thumbnailNode,selected:e.id===c,onSelect:()=>s(e.id)}))));A=t.createElement("div",{className:`${D.join(" ")}`},t.createElement("div",{className:"_2xPFSJpa"},t.createElement("div",{className:"_1NeNrC1v"},S),t.createElement("div",{className:"_3VWKzm3L"},t.createElement("div",{className:"_2EjPMQ_w"},F))))}}}return t.createElement("div",{className:"_1vIyt1mw "+(l?"_1xBMqcgO":""),ref:v},t.createElement("div",{key:"content-bar",className:"F9H4o8oU"},u),t.createElement("div",{key:"content",className:"_2UZeOME_"},A,t.createElement("div",{className:"_2f0Re4aF"},m)))},_=()=>{},v="_3XRx_R26",N=({quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:i,titleNode:n,quickAlbumsMarginBottom:r,shouldTruncate:o,onSeeAll:u,onSeeFewer:d})=>{var f,h,{localize:_}=a(),[N,E]=t.useState(!1),[b,p]=t.useState(null==e?void 0:e.length),[g,k]=t.useState(!1);if(!e)return null;N&&o&&(f=t.createElement("span",{className:v,onClick:()=>{k(!0),u&&u()}},`${_.string("media_viewer_quick_albums_see_all")} `," ",t.createElement(c,{name:"caret-down"}))),N&&o&&(h=t.createElement("span",{className:s(v,"KL4wLmPq"),onClick:()=>{k(!1),d&&d()}},`${_.string("media_viewer_quick_albums_see_fewer")} `," ",t.createElement(c,{name:"caret-up"})));var A=e.length;return g?t.createElement(m,{quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:i,titleNode:n,footerNode:h,quickAlbumsMarginBottom:r,maxQuickAlbumsDisplayedCount:b,truncate:!1}):t.createElement(m,{quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:i,titleNode:n,footerNode:f,quickAlbumsMarginBottom:r,maxQuickAlbumsDisplayedCount:b,truncate:N&&o,ref:e=>{if(e&&o){var l=e.clientHeight,t=e.clientWidth;if(e.firstElementChild&&A){var a,i,n=(null==(a=e.firstElementChild)?void 0:a.clientHeight)+r,s=null==(i=e.firstElementChild)?void 0:i.clientWidth,c=Math.floor(t/s),u=A/c,m=Math.floor(l/n);u>m?(E(!0),p(m*c)):(E(!1),p(A))}}}})};return[()=>{o=[172,48],u=[0,184],h.defaultProps={onSelect:()=>{},isLandscape:!1,scrollPosition:0,contentFocus:!1},(m=t.forwardRef((({quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:a=_,titleNode:i,footerNode:s,truncate:c,maxQuickAlbumsDisplayedCount:o,quickAlbumsMarginBottom:u},m)=>{if(!e)return null;var d=e;return c&&o&&(d=e.slice(0,o)),t.createElement("div",{className:"_2XFaQpx-"},i?t.createElement(r,{variant:"title-05",elementType:"div",marginY:"spacing-03"},i):null,t.createElement("div",{className:"mFapriug"},t.createElement("div",{className:"_3Gwl69tU "+(c?"Tk1isDED":""),ref:m},d&&d.map((e=>{return t.createElement("div",{className:"_2yPHPl45",style:{marginBottom:u||0},key:e.id},t.createElement(n,{titleNode:e.titleNode,thumbnailNode:e.thumbnailNode,selected:e.id===l,onSelect:(i=e.id,()=>a(i))}));var i})))),s||null)}))).displayName="QuickAlbumsFluidContainer",e({LANDSCAPE_MODE_PADDING:o,PORTRAIT_MODE_PADDING:u,QuickAlbumsMobileLayout:h,QuickAlbumsSeeAllToggleableContainer:N})},[e=>t=e,e=>a=e.useLocalize,e=>i=e.useFillParent,e=>n=e.QuickAlbum,e=>s=e.default,e=>c=e.default,e=>r=e.default]]},["cDcdfi","0DsHEV","Bk-fue","UuUmq4","jSLlaY","pyY-iJ","VP50Wc"]]);
