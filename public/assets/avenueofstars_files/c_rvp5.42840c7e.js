(this.$WP=this.$WP||[]).push(["c_rvp5",(e,i)=>{"use strict";var t,r,s,n,a,o,l,d,p=e=>{var{children:i}=e,r=function(e,i){if(null==e)return{};var t,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],i.indexOf(t)>=0||(s[t]=e[t]);return s}(e,["children"]);return t.createElement(d,{value:r},i)},m=({source:e,attributes:i,children:r})=>{var o=t.useContext(l),[d,m]=t.useState(void 0),[u,c]=t.useState(!1),I=!(Object.keys(o).length>0)||o.isImpressionLogged,[,v]=s(a),k=o.impressionId||null,T=i[e],g=JSON.stringify(i),b=t.useMemo((()=>({[e]:i[e],parentId:k})),[e,k,g]);return t.useEffect((()=>{I&&(c(!1),v({impressions:[b]}).then((({data:e})=>{if(e){var i=e&&e.logImpressions&&e.logImpressions[0];i&&(m(i),c(!0))}})))}),[I,b,v]),n("react_tracking_impressions")&&T?t.createElement(p,{impressionId:d,isImpressionLogged:u},r):r},u=({trip:e,children:i,element:s,detailId:n,placeType:a})=>{var o=e.status||void 0;return t.createElement(m,{source:"tripsDetail",attributes:{tripsDetail:{tripId:e.id,status:o,relation:r(e),collaborative:!!e.collaborators&&e.collaborators.length>0,element:s,detailId:n,placeType:a}}},i)},c={ALL_TRIPS:"ALL",PUBLIC_TRIPS:"PUBLIC",PRIVATE_TRIPS:"PRIVATE"},I=({trips:e,filterSelected:i,children:r})=>t.createElement(m,{source:"tripsHome",attributes:{tripsHome:{hasTrips:e&&e.length>0,filter:c[i]||"ALL"}}},r),v=({element:e,trip:i,trips:r,item:s,children:n})=>{var a=r?r.length>0:void 0,o=i&&void 0!==a?((e,i)=>i?e?e&&e.owner&&!e.owner.isMe?"COLLABORATOR":e&&e.collaborators&&e.collaborators.length>0?"COLLABORATED":"EXISTING":"NEW":"FIRST")(i,a):void 0;return t.createElement(m,{source:"trips",attributes:{trips:{element:e,tripId:i&&i.id,tripType:o,hasTrips:a,dated:i&&!!i.date&&(!!i.date.to||!!i.date.from||!!i.date.duration),isSaved:s&&s.saved}}},n)};return[()=>{(a=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogImpressions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ImpressionInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logImpressions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"impressions"},"value":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}}}],"directives":[]}]}}],"loc":{"start":0,"end":114}}')).__key=0xd4238cb95b19,o=Object.freeze({}),l=t.createContext(o),({Provider:d}=l),p.defaultProps={impressionId:void 0,isImpressionLogged:!1},e({TrackingImpressionContextProvider:p,TripTrackingImpression:l,TripsDetailImpression:u,TripsHomeImpression:I,TripsImpression:v})},[e=>t=e,e=>r=e.userRelation,e=>s=e.useMutation,e=>n=e.featureIsEnabled]]},["cDcdfi","eFKnUp","5X2em-","-i3PJS"]]);
