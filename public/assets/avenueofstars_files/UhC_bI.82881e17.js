(this.$WP=this.$WP||[]).push(["UhC_bI",(e,t)=>{"use strict";var r,a,n,i,s,o=(e,t)=>{e.withScope((r=>{Object.entries(t.tags).forEach((([e,t])=>{r.setTag(e,t)})),t.extraData&&Object.entries(t.extraData).forEach((([e,t])=>{r.setExtra(e,t)})),e.captureException(t.error)}))},l="commonLogging",c=!1,u=10,_=null,p=({drsInfo:e},r,{version:a,domainName:n},i="tripadvisor-web-app")=>Promise.all([t("xJD91H"),t("a3FWKi")]).then((([t,s])=>{if(!c){c=!0;var p,g=`https://sentry@${n}/SentryProxy`;p=/\.dev(-[a-z]+)?\.tripadvisor(-preview)?\./.test(n)?"webml":/(hare(-[a-z]+)?|\.qa)\.tripadvisor(-preview)?\./.test(n)?"hare":"live";var d={dsn:g,release:a,environment:p,includePaths:["rutabaga_cyclone"],integrations:[new s.CaptureConsole({levels:["error"]})],beforeSend:e=>(u===Math.ceil(5)&&null===_&&(_=setTimeout((()=>{u=10,_=null}),6e4)),0===u?null:(u--,e&&e.exception&&e.exception.values&&e.exception.values.forEach((e=>{e&&e.stacktrace&&e.stacktrace.frames&&e.stacktrace.frames.forEach((e=>{e&&e.filename&&e.filename.includes("t1.tacdn.com")&&(e.filename=e.filename.replace(/session_id(.*)(?=&)/,"session_id=STRIPPED_BY_SENTRY"))}))})),e))};t.init(d),t.configureScope((t=>{t.setTag("hostName",n),t.setTag("runMode","production"),t.setTag("environment",p),t.setTag("logger","jsDefault"),t.setExtra("drsInfo",e),t.setExtra("sentryProject",i)})),"undefined"!=typeof __PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__.forEach((e=>{o(t,{error:1===e.length&&"object"==typeof e[0]?e[0]:new Error(e.join(" ")),tags:{logger:l}})})),__PRE_SENTRY_ERRORS__=null}return t.configureScope((e=>{e.setTag("page",r)})),t})),g=({installer:e,fallbackPageName:t,project:o="tripadvisor-web-app"}={})=>{var l=e||p,c=s.useContext(r),[u]=s.useContext(a),_=s.useContext(n),g=s.useRef({status:"uninitialized"});s.useEffect((()=>{"uninitialized"===g.current.status?g.current={status:"initializing",done:new Promise((e=>{i((()=>requestIdleCallback((()=>{l(c,u.page||t,_,o).then((()=>{e(),g.current={status:"initialized"}}))}))))}))}:"initializing"===g.current.status?g.current={status:"initializing",done:g.current.done.then((()=>l(c,u.page,_,o)))}:l(c,u.page,_,o)}),[c,u,_,l,t,o])},d=e=>(g(e),null);return[()=>{e({LOGGER_COMMON_LOGGING:l,Sentry:d,installSentry:p,sendSentryRequest:o,useSentry:g})},[e=>(r=e.Debug,a=e.Route,n=e.Environment),e=>i=e.requestTTICallback,e=>s=e]]},["2R4xv2","6NeHQy","cDcdfi"]]);
