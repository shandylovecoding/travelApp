(this.$WP=this.$WP||[]).push(["eh0n4_",(e,t)=>{"use strict";var a,r,u,l,s,n="/media/",i=(e,t,a)=>{var r,u=`${a}${e}`,l=!1;return u+=(r=t.mediaId)?`/${r.id}:${r.type||"u"}`:"",(t.albumId||t.typeId||t.categoryId)&&(u+="/?",l=!0),l&&((t.albumId||0===t.albumId)&&(u+=`albumid=${t.albumId}&`),(t.typeId||0===t.typeId)&&(u+=`type=${t.typeId}&`),(t.categoryId||0===t.categoryId)&&(u+=`category=${t.categoryId}&`),"&"===u.substring(u.length-1)&&(u=u.substring(0,u.length-1))),u},d=(e,t)=>{var a=e.split("/");a.splice(0,2);var r,u,s,n,i,d=null,c=null,m="u";switch(a.length){case 0:break;case 1:[d]=a;break;case 2:a[1].indexOf("=")>0?[d,i]=a:[d,c]=a;break;case 3:[d,c,i]=a;break;default:[d,c,i]=a}if(null!=i){var g=new URLSearchParams(i);g.has("albumid")&&(u=g.get("albumid")),g.has("type")&&(s=g.get("type")),g.has("category")&&(n=g.get("category"))}if(null!=c){var o=c.split(":");r=Number(o.shift()),m=o.shift()}return{locationId:Number(d),state:{mediaId:null!=r?{id:r,type:l(m)}:null,albumId:Number(u),typeId:Number(s),categoryId:Number(n),sort:t}}},c=(e,t,l,c)=>{var[{fragment:m},{navigateToFragment:g}]=a.useContext(u),o=e||0,I=a.useRef(t),y=a.useRef(m),b=null!=l&&""!==l?`/media-${l}/`:n,{sort:f}=t||{},p=a.useMemo((()=>m&&m.startsWith(b)?d(m,f):null),[m,b,f]),[v,h]=a.useState(null==p?void 0:p.state);return a.useEffect((()=>{v&&!p?h(null):!v&&p&&h(p.state)}),[p,v]),a.useEffect((()=>{var e=!r(I.current,t),a=y.current!==m;if(a&&!e)m&&!m.startsWith(b)?c({type:s.close}):p&&c({type:s.routeNavigate,newState:p.state});else if(!a&&e){var u=t?i(o,t,b):"";if(u!==m){var l=((e,t)=>null===e&&null!==t||!(null==e?void 0:e.mediaId)&&(null==t?void 0:t.mediaId)?"FRAGMENT_PUSH":"IN_PLACE")(I.current,t);g(u,l)}}I.current=t,y.current=m}),[t,m,b,p,g,o,c]),{clearFragment:a.useCallback((()=>{m&&g("","IN_PLACE")}),[m,g]),initialRouteState:v}};return[()=>{e({defaultFragmentPrefix:n,generateFragmentRoute:i,getStateFromFragment:d,useRouteHandler:c})},[e=>a=e,e=>r=e.default,e=>u=e.Route,e=>(l=e.validateMediaType,s=e.actions)]]},["cDcdfi","YwNsO_","2R4xv2","wc54S1"]]);
