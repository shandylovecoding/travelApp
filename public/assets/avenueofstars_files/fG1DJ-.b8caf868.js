(this.$WP=this.$WP||[]).push(["fG1DJ-",(e,a)=>{"use strict";var i,t,n,l,r,d,s,o,m,u,c="_3e9efkIF",v="_29j9470d",k="_3HekUw5X",p=()=>{var[,e]=t(u);return i.useCallback(((a,i)=>{e({locationId:a,mediaId:i}).then((e=>{var a,i;if(e.error)console.error("SetPrimary call failed: ",e.error);else{var t=null==(a=e.data)||null==(i=a.PrimaryMedia_setStaffPrimaryMedia)?void 0:i[0];"ok"===(null==t?void 0:t.status)?alert("Success! Your new primary photo selection will take effect."):"higherPriorityExist"===(null==t?void 0:t.status)&&(null==t?void 0:t.message)&&alert(`Your curated photo selection has been saved, but it will not be shown. The current primary photo source is ${null==t?void 0:t.message}, which is higher priority.`)}}))}),[e])},y=({locationId:e,mediaId:a})=>{var{localize:t}=o(),[n,l]=i.useState(!1),r=p(),m=t.string("set_primary_btn_label"),u=t.string("set_primary_btn_success");return i.createElement("div",{className:c},i.createElement(d,{variant:"secondary",size:"small",disabled:n,onClick:()=>{r(e,a),l(!0)}},i.createElement("span",{className:v},i.createElement("span",{className:k},i.createElement(s,{name:"star"})),n?u:m)))},f=({mediaId:e})=>{var[a,t]=i.useState(!1),n=i.useCallback((()=>{navigator.clipboard.writeText(String(e)).then((()=>t(!0)))}),[e]);return i.createElement("div",{className:c},i.createElement(d,{variant:"secondary",size:"small",disabled:a,onClick:n},i.createElement("span",{className:v},i.createElement("span",{className:k},i.createElement(s,{name:"custom-note"})),a?"Copied":"Copy media ID")))},N=({mediaId:e})=>{var a,[t]=i.useContext(l),{userId:d}=i.useContext(r),[{data:s}]=n({query:m,pause:null===d});if(!(null==s||null==(a=s.getProfile)?void 0:a.canSetPrimary))return null;var o=0;return"Tourism"===t.page?o=t.params.geoId:"Hotel_Review"===t.page?o=t.params.detailId:"AttractionProductReview"!==t.page&&"Attraction_Review"!==t.page||!t.params.detailId||(o=t.params.detailId),0===o||e<1?null:i.createElement(i.Fragment,null,i.createElement(y,{locationId:o,mediaId:e}),i.createElement(f,{mediaId:e}))};return[()=>{(m=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ContentPlatform"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"getProfile"},"name":{"kind":"Name","value":"ContentPlatform_getProfile"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"canSetPrimary"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":99}}')).__key=0xfb57edc20d8e,(u=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"SetPrimaryMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"mediaId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"PrimaryMedia_setStaffPrimaryMedia"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ListValue","values":[{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"locationId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"mediaId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"mediaId"}}}]}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"message"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":199}}')).__key=0xd25945663b2a,e("default",N),e({SetPrimaryAuthorizationQuery:m,useSetPrimaryCallback:p})},[e=>i=e.default,e=>(t=e.useMutation,n=e.useQuery),e=>(l=e.Route,r=e.Visitor),e=>d=e.default,e=>s=e.default,e=>o=e.useLocalize]]},["cDcdfi","5X2em-","2R4xv2","7yGKf-","pyY-iJ","0DsHEV"]]);
