(this.$WP=this.$WP||[]).push(["J7ol2P",(e,t)=>{"use strict";var r,a,i,n,l,o,s,u,c,m,d,h,g,v,f,_,p,k,E,z,w,x,A,y,b,V="_2TxMfmHi",C="HORIZON_FALLBACK",H=()=>{var{localize:e}=k(),[,{uid:t}]=a(u),l=w(),s=x(),[c]=i(z()),m=E((()=>{l({optimusAd:{pageviewUid:t,funnelKey:c,position:C}})})),d=n((()=>{s({OptimusAdInteraction:{optimusAdClick:{pageviewUid:t,funnelKey:c,position:C}}})}),[s,t,c]),h=`/Plus?ik=${c}`;return r.createElement("div",{ref:m,className:"_2bVMxI72"},r.createElement("div",{className:"ATPmtVtV"},r.createElement("div",{className:"QAKGp-pF"},r.createElement("div",{className:"_2Uw3CZQU"},e.string("plus_home_takeover_horizon_header")),r.createElement("div",{className:o(V,"i4sk4jWp")},r.createElement(p,{variant:"plus-logo-full-all-white",height:58}),r.createElement(_,{variant:"on-dark-outline",href:h,onClick:d},e.string("plus_home_takeover_learn_more"))),r.createElement("div",{className:o(V,"_1iRGB-H-")},r.createElement(p,{variant:"plus-logo-full-all-white",height:22}),r.createElement(_,{variant:"on-dark-outline",size:"small",href:h,onClick:d},e.string("plus_home_takeover_learn_more"))))))},N=e=>{var t=e.code;return[{url:`/img2/langs/${t}/horizon/Sky_banner_300x175.jpg`,width:300,height:175},{url:`/img2/langs/${t}/horizon/Sky_banner_768x350.jpg`,width:768,height:350},{url:`/img2/langs/${t}/horizon/Sky_banner_1024x350.jpg`,width:1024,height:350},{url:`/img2/langs/${t}/horizon/Sky_banner_1280x350.jpg`,width:1280,height:350}]},I=()=>{var{localize:e}=k(),{locale:t}=a(c);return r.createElement("a",{href:"https://www.youtube.com/watch?v=bppH2sVd5OM?utm_source=tripadvisor&utm_medium=home&utm_campaign=fallbackhorizon",target:"_blank"},r.createElement(A,{source:N(t),height:"100%",width:"100%",alt:e.string("horizon_watch_the_film")}))},L=({takeoverVariant:e})=>{switch(e){case"Optimus":return r.createElement(H,null);case"Vacations":return r.createElement(I,null);default:return console.error(`Missing horizon ad takeover fallback for variant: ${e}`),null}},S=(e,t)=>e?"DWqsJ0MN":t?"An3ADvD3":"_3hQc_oBM",T=({footer:e=!1})=>{var[t,n]=i(!1),{viewportCategory:u}=a(m),c="MOBILE"===u?"5x1|320x50":"5x1|728x90",d=e?"footer":"horizon",_=h(d),p=g(),{ref:k,id:E,isRendered:z,isEmpty:w}=v(c,d,p,!!e),x=function(e){var[t,r]=i(!1);return l((()=>{if(!s.get("ads.horizonLoaded")){var t=setTimeout((()=>{r(!0),s.set("ads.horizonLoaded",!0)}),e);return()=>clearTimeout(t)}r(!0)}),[e]),t}(e?0:2e3);return l((()=>{var e=setTimeout((()=>{n(!0)}),5e3);return()=>clearTimeout(e)})),r.createElement("div",{className:o("ad",S(_,e))},(z||t)&&w&&!e&&(e=>e?r.createElement(L,{takeoverVariant:e}):r.createElement(f,null))(_),x&&r.createElement("div",{ref:k,id:E,className:o("_2NoPV5rh",{SPPOXG2Y:w})}))},O=["Home","Tourism","ForumHome"],P=["RentalCars","RentalCarsGeo","Articles","ArticlesHome"],R=()=>{var[e]=a(u),{page:t}=e,{userId:r}=a(d),i=b(),n=y("horizonAd"),l=!r,o=!!h("horizon");return!!P.includes(t)||(O.includes(t)||n)&&(l||i||o)};return[()=>{e("default",T),e("useHorizonAd",R)},[e=>(r=e.default,a=e.useContext,i=e.useState,n=e.useCallback,l=e.useEffect),e=>o=e.default,e=>s=e.default,e=>(u=e.Route,c=e.Environment,m=e.Device,d=e.Visitor),e=>h=e.useTakeoverVariant,e=>(g=e.useRefreshKey,v=e.useAd),e=>f=e.default,e=>_=e.default,e=>p=e.default,e=>k=e.useLocalize,e=>E=e.useOnVisible,e=>z=e.uuid,e=>w=e.useImpressionLogger,e=>x=e.useInteractionLogger,e=>A=e.default,e=>y=e.default,e=>b=e.useSponsoredGeo]]},["cDcdfi","jSLlaY","jaCyxS","2R4xv2","q0TyIl","dHlxRh","2IPQDU","7yGKf-","TkeYrn","0DsHEV","BLrxBS","O-HcBE","30t50h","fsml46","BgJkqv","DY6uxn","gzFIw8"]]);
