(this.$WP=this.$WP||[]).push(["30t50h",(e,n)=>{"use strict";var i,t,a,s,r,o,d,u,l,m,c,p=(e,n)=>e+n,v=({children:e})=>{var[{path:n},{uid:a}]=i.useContext(t),s=i.useRef(new Set),o=i.useCallback((e=>{s.current.add(e)}),[]),{pvExchange:d}=r();return i.useEffect((()=>{var e=null,i=!1,t=()=>{if(!i){var r=[a,n].map((e=>Array.from(l.encode(e)).reduce(p,0))).reduce(p,0);(i=navigator.sendBeacon("/PVLog",JSON.stringify({checksum:r,path:n,uid:a,pageProperties:Array.from(m.size>0?m:s.current),referrer:"undefined"!=typeof document?document.referrer:null})))&&(s.current=new Set,e&&cancelIdleCallback(e),window.removeEventListener("beforeunload",t))}};return d.allQueriesResolvedForPageView(a).then((()=>{e=requestIdleCallback(t)})),window.addEventListener("beforeunload",t),t}),[a]),i.createElement(c.Provider,{value:o},e)},k=e=>{var n=i.useContext(c);i.useEffect((()=>n(e)),[e,n])},g=()=>{var[,e]=o(d);return i.useCallback((n=>e({impressions:[n]})),[e])},f=()=>{var[,e]=o(u),[,{uid:n}]=i.useContext(t),{userId:r,sessionId:d}=i.useContext(a),{userAgentCategory:l}=i.useContext(s);return i.useCallback((i=>{var t=Object.assign({pageUid:n,userId:r,sessionId:d,userAgent:l,eventTimestampMs:Date.now()},i);e({request:{clientRequestTimestampMs:Date.now(),request:[t]}})}),[e,n,r,d,l])},N=()=>i.createElement(v,null,null);return[()=>{(d=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogImpressions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ImpressionInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logImpressions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"impressions"},"value":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}}}],"directives":[]}]}}],"loc":{"start":0,"end":114}}')).__key=0xd4238cb95b19,(u=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogImpressionsV3"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Impressions_UserImpressionsRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Impressions_postImpressionsV3"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"response"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":160}}')).__key=5445770314193,l=new TextEncoder,m=new Set,c=i.createContext((e=>{m.add(e)})),i.createContext(null),e("default",N),e({AddPageProperty:c,PageViewLogger:v,useImpressionLogger:g,useImpressionV3Logger:f,usePageProperty:k})},[e=>i=e,e=>(t=e.Route,a=e.Visitor,s=e.Device),e=>(r=e.useClient,o=e.useMutation)]]},["cDcdfi","2R4xv2","5X2em-"]]);
