(this.$WP=this.$WP||[]).push(["nCvudh/mig8ob",(e,t)=>{"use strict";var r,i,s,a,o,n,d,l,g,c,u,h,p,m,v,S,f,b,I,y,w,E,k,O,C,T,M,L,P,B,_,x,A,D,F,N,R,j,$,q="ads.testMode";function H(e,t){if(null==e)return{};var r,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}function W(e){var t=window.performance;t&&t.mark&&t.mark(e)}var U=["3x1","1x1"],z=[],V=(e,t)=>{W("ias_v_end");var r=function(e,t,r){var i=window.performance;if(i&&i.measure){i.measure(e,"ias_v_start","ias_v_end");var s=i.getEntriesByName(e)[0];if(s)return s.duration}return null}("ias_latency");if(r){var i={gac:"ias_verify",gaa:"ias_latency",gal:e.toString(),gav:parseInt(r,10).toString(),gass:t},s=new URLSearchParams(i);E(s)}},G=55978451,K=["2mdn.net","amazon-adsystem.com","ampproject.org","celtra.com","doubleclick.net","google.com","googletagservices.com","googlesyndication.com","adsafeprotected.com"],Q=[{width:300,height:250},{width:300,height:600},{width:160,height:600},{width:728,height:90},{width:970,height:250},{width:550,height:1}],Z=[{width:320,height:50},{width:300,height:250}];function X(e,t){globalThis.apstag._Q.push([e,t])}var J=[{width:300,height:250},{width:300,height:600},{width:160,height:600},{width:728,height:90},{width:970,height:250}],Y=[{width:320,height:50},{width:300,height:250}],ee=({onDisableTestMode:e})=>r.createElement("div",{className:"_1tTsPx5J"},"Ad test mode enabled",r.createElement("button",{onClick:e,className:"_2inpZAtZ"},"[Disable]")),te=({children:e})=>{var[t,s]=i({}),a=n((()=>({targeting:t,setTargeting:s})),[t]);return r.createElement(F.Provider,{value:a},e)},re=({children:e})=>e,ie=({children:e})=>{var{browser:t,userAgentCategory:o}=l(g),{debugTool:n}=l(c),{domainName:d}=l(u),[h,p]=i(null),[m,v]=(()=>{var[e,t]=i(!1),r=s((e=>{t(e),b.set(q,e)}),[]);return a((()=>{var e=!0===b.get(q);t(e);var r=b.addListener(q,t);return()=>r()}),[]),[e,r]})(),S=f();return a((()=>{var e="MOBILE"===o?window.innerHeight:window.innerHeight/2,r=.01*window.innerHeight,i={userAgentCategory:o,fetchMargin:`${e}px`,renderMargin:`${r}px`,browserFamily:t.family,domainName:d,recordScriptLoadFailure:S};if(m)p(new x(i));else{var s=[];s.push(new P(i)),s.push(new L(i)),p(new _(i,s))}}),[t,o,m,d,S]),r.createElement(R.Provider,{value:h},r.createElement(te,null,n&&r.createElement(N,{testMode:m,onTestModeChange:v}),m&&r.createElement(ee,{onDisableTestMode:()=>v(!1)}),r.createElement(j,null,e)))};function se(){var{id:e}=r.useContext(g);if(!e)return"-1";var t=b.get("adTargetingUserBucketOverride");return null!=t?t:Math.abs(O(e)%100).toString()}var ae=e=>e.toISOString().substring(0,10),oe=()=>{var e,[{page:t,params:r},{uid:s}]=l(h),{browser:o,userAgentCategory:n}=l(g),{sessionId:d}=l(p),{drsInfo:u}=l(c),{hotels:v}=l(m),{targeting:S}=l(F),[f,b]=i(null),I=r.geoId?r.geoId:0,y=r.detailId?r.detailId:0,w=se(),E={hotelTravelInfo:(null==v?void 0:v.checkInDate)&&v.checkOutDate&&{checkInDate:ae(v.checkInDate),checkOutDate:ae(v.checkOutDate),defaultDates:v.defaultDates}||null,locationId:y||I,pageType:t,browserType:o.family,drs:u?(e=u,e.split("*").map((e=>{var[t,r]=e.split(".");return{space:t,sliceNum:Number.parseInt(r,10)}}))):[],globalContextUrlParameters:Object.entries(r).map((([e,t])=>({key:e,value:String(t)}))),userAgentCategory:n},[{fetching:O,data:C}]=k({query:$,variables:{pageAdsRequestInput:E}});return a((()=>{var e,t=null==C||null==(e=C.gptInfo)?void 0:e[0];if(!O&&t){var{pageLevelTargeting:r,adBase:i,ppid:a}=t;if(r&&i){var o=Object.fromEntries(r.map((e=>{var{key:t,value:r}=e||{};return t&&r?[t,[...r]]:null})).filter(Boolean)),n=Object.fromEntries(Object.entries(S).map((([e,t])=>[e,Array.isArray(t)?t:[t]])));return b(Object.assign({},o,{},n,{pv_id:[s],sess:[d||null],adBase:i,ppid:a,userBucket:String(w)})),()=>{b(null)}}}}),[C,O,s,d,S,w]),f};return e({_:H,a:se}),[()=>{A=Object.freeze({GPT:{url:"//securepubads.g.doubleclick.net/tag/js/gpt.js",name:"GPT"},RUBICON_MOBILE:{url:"//ads.rubiconproject.com/prebid/13406_Mweb_Display.js",name:"RUBICON_MOBILE"},RUBICON_DESKTOP:{url:"//ads.rubiconproject.com/prebid/13406_Desktop_Display.js",name:"RUBICON_DESKTOP"},AMAZON_PREBID:{url:"//c.amazon-adsystem.com/aax2/apstag.js",name:"AMAZON_PREBID"}}),C=class{constructor({fetchMargin:e="0px",renderMargin:t="0px",scriptSources:r,recordScriptLoadFailure:i=(()=>{})}){this.loadPromise=null,this.fetchMargin=void 0,this.renderMargin=void 0,this.scriptSources=void 0,this.recordScriptLoadFailure=void 0,this.scriptSources=r,this.fetchMargin=e,this.renderMargin=t,this.recordScriptLoadFailure=i}getScriptSources(){return this.scriptSources}getConsent(){return new Promise(((e,t)=>y(w.ADVERTISING,(()=>e()),(()=>t(new Error("Advertising consent declined"))))))}observe(e,t="0px"){return new Promise((r=>{var i=new IntersectionObserver((e=>{e.reduce(((e,t)=>e||t.isIntersecting),!1)&&(i.disconnect(),r())}),{rootMargin:t,threshold:0});i.observe(e)}))}loadScripts(){return this.loadPromise||(this.scriptSources,this.loadPromise=this.getConsent().then((()=>{var e=this.scriptSources.map((e=>S(e.url,"WP")));return Promise.all(e)})).then((()=>{})).catch((e=>(this.loadPromise=null,this.scriptSources,this.recordScriptLoadFailure(this.scriptSources.map((e=>e.name))),Promise.reject(e))))),this.loadPromise}load(e,t){return t||"undefined"==typeof IntersectionObserver?this.loadScripts():Promise.all([this.observe(e,this.fetchMargin).then((()=>this.loadScripts())),this.observe(e,this.renderMargin).then((()=>console.debug("ScriptLoader:",e,"is in viewport")))])}},T=class{constructor({fetchMargin:e,renderMargin:t,browserFamily:r,recordScriptLoadFailure:i}){this.slotSubscriptions={},this.subscriptions=[],this.ppid=null,this.scriptLoader=void 0,this.confirmSafeFrame=e=>{try{var t,r=null==e||null==(t=e.slot)?void 0:t.getSlotElementId(),i=document.querySelector(`#${r.split(":").join("\\:")} div[id^="google_ads_iframe"] iframe`);if(!(i&&i instanceof HTMLIFrameElement))return;setTimeout((()=>{var t,r=i.contentDocument;if(r){var s=r.documentElement,a=s&&!!s.getAttribute("amp-version"),o=!!r.getElementById("google_image_div"),n=(null==e||null==(t=e.slot)?void 0:t.getResponseInformation().advertiserId)===G;if(!(a||o||n)){var d=Array.from(r.scripts).map((e=>e.src.replace(/.*\/\//,"").split(/[/?#]/)[0].split(".").slice(-2).join("."))).filter((e=>-1===K.indexOf(e))).filter(Boolean);d.length&&console.error("Same-domain ad served with third-party scripts",{slotInfo:e.slot.getResponseInformation(),unapprovedDomains:d})}}}),1500)}catch(e){}},globalThis.googletag=globalThis.googletag||{cmd:[]},this.scriptLoader=new C({fetchMargin:e,renderMargin:t,scriptSources:[A.GPT],recordScriptLoadFailure:i}),googletag.cmd.push((()=>{googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:"EDGE"!==r}),googletag.pubads().addEventListener("slotOnload",this.confirmSafeFrame),googletag.pubads().disableInitialLoad(),googletag.enableServices()})),this.createEventProxy("slotRenderEnded",(e=>({isRendered:!0,isLoaded:!1,isEmpty:G===(null==e?void 0:e.advertiserId)||(null==e?void 0:e.isEmpty)}))),this.createEventProxy("slotOnload",(()=>({isLoaded:!0}))),this.createEventProxy("slotVisibilityChanged",(e=>({isVisible:!!(null==e?void 0:e.inViewPercentage)})))}createEventProxy(e,t){googletag.cmd.push((()=>{googletag.pubads().addEventListener(e,(r=>{var i,s=null==r||null==(i=r.slot)?void 0:i.getSlotElementId(),a=t(r);s&&a&&this.slotSubscriptions[s]&&(this.slotSubscriptions[s](a,e),this.subscriptions.forEach((e=>e())))}))}))}getSlots(){return googletag.pubadsReady?(googletag.pubads().getSlots()||[]).map((e=>{var{advertiserId:t,creativeId:r,lineItemId:i,campaignId:s}=e.getResponseInformation()||{};return{id:e.getSlotElementId(),targeting:Object.fromEntries(e.getTargetingKeys().map((t=>[t,e.getTargeting(t)]))),responseInformation:{isCollapser:t&&t===G,advertiserId:t,creativeId:r,lineItemId:i,campaignId:s}}})):[]}getSlot(e){return googletag.pubads().getSlots().find((t=>t.getSlotElementId()===e))}addEventListener(e){return this.subscriptions.push(e),()=>{var t=this.subscriptions.indexOf(e);t>-1&&this.subscriptions.splice(t,1)}}createSlot({id:e,elem:t,size:r,targeting:i,aboveTheFold:s}){return googletag.cmd.push((()=>{if(!this.getSlot(e)){var{adBase:t,ppid:s}=i,a=H(i,["adBase","ppid"]);null!==s&&(googletag.pubads().setPublisherProvidedId(s),this.ppid=s);var o=function(e){return[...e.split("|").map((e=>e.split("x").map(Number))),"fluid"]}(r),n=googletag.defineSlot(t,o,e);if(n){var d;if(null==n.updateTargetingFromMap||n.updateTargetingFromMap(a),!(null==n.getTargetingKeys||null==(d=n.getTargetingKeys())?void 0:d.length))return void this.broadcastEmptySlot(e);n.setForceSafeFrame(!1),n.addService(googletag.pubads()),n.setCollapseEmptyDiv(!0),googletag.display(e)}}})),this.scriptLoader.load(t,s).then((()=>{this.refreshSlot(e,s)})).catch((()=>{this.broadcastEmptySlot(e)})),{addEventListener:t=>(this.slotSubscriptions[e],this.slotSubscriptions[e]=t,()=>{delete this.slotSubscriptions[e]})}}refreshSlot(e,t=!1){this.broadcastRefreshStart(e),googletag.cmd.push((()=>{var t=this.getSlot(e);if(t){var r=()=>{googletag.pubads().refresh([t],{changeCorrelator:!1})};!function(e){var t=e.getSlotElementId(),[,r,i]=t.split(":");return!(U.includes(r)||z.includes(i))}(t)?r():function(e){return new Promise((t=>{W("ias_v_start");var r=e.getSizes().map((e=>e.getWidth&&e.getHeight?`${e.getWidth()}.${e.getHeight()}`:"1.1")),i=`https://pixel.adsafeprotected.com/services/pub?${["anId=930842",`slot={id:${e.getSlotElementId()},ss:[${r.toString()}],p:${e.getAdUnitPath()}}`,`wr=${window.innerWidth}.${window.innerHeight}`,`sr=${window.screen.width}.${window.screen.height}`].join("&")}`,[s]=e.getTargeting("PageType"),a=setTimeout((()=>{V(!0,s),t()}),2e3);fetch(i,{credentials:"same-origin",headers:b.has(q)?{"X-Purpose":"review"}:void 0}).then((e=>e.json())).then((r=>{r.code&&r.message&&(console.error(`Error in IAS response. Code: ${r.code}. Message: ${r.message}`),t()),clearTimeout(a),V(!1,s);var{fr:i,brandSafety:o}=r,{id:n,vw:d}=r.slots.slot;b.get(q)||e.setTargeting("fr",i),e.setTargeting("id",n),e.setTargeting("vw",d),e.updateTargetingFromMap(o),t()})).catch((e=>{console.error(`Error fetching IAS response. ${e}`),t()}))}))}(t).then(r)}}))}destroySlot(e){googletag.cmd.push((()=>{var t=this.getSlot(e);t&&(googletag.destroySlots([t]),this.subscriptions.forEach((e=>e())))}))}broadcastRefreshStart(e){null==this.slotSubscriptions[e]||this.slotSubscriptions[e]({},"slotRefreshStart")}broadcastEmptySlot(e){null==this.slotSubscriptions[e]||this.slotSubscriptions[e]({isEmpty:!0,isLoaded:!0,isRendered:!0},"forcedEmpty")}},M=class{constructor(e){this.context=void 0,this.config=void 0,this.rubiconSupportedFormats=void 0,globalThis.pbjs=globalThis.pbjs||{que:[]},this.config=e,this.rubiconSupportedFormats="MOBILE"===e.userAgentCategory?Z:Q,this.cleanupGDCookies()}cleanupGDCookies(){var e=I.get();null!=e&&e!==[]&&Object.entries(e).forEach((e=>{var[t,r]=e;t.match(/^_gd160/)&&"1"===r&&Number(t.split("_gd")[1])<1609e9&&I.remove(t,{path:"",domain:`.${this.config.domainName}`})}))}setContext(e){this.context=e}getScripts(e=!0){return e?["MOBILE"===this.config.userAgentCategory?A.RUBICON_MOBILE:A.RUBICON_DESKTOP]:[]}preCreateSlot(e){}slotSupportsBidding(e){var t=e.getSizes();return!!Array.isArray(t)&&t.filter((e=>"object"==typeof e&&null!==e&&e.getWidth()&&e.getHeight())).map((e=>({width:e.getWidth(),height:e.getHeight()}))).some((e=>this.rubiconSupportedFormats.some((t=>t.width===e.width&&t.height===e.height))))}refreshSlot(e,t,r,i){googletag.cmd.push((()=>{var t=this.context.getSlot(e);t&&this.slotSupportsBidding(t)?(()=>{var[e=""]=t.getTargeting("loctype"),[r=""]=t.getTargeting("platform");pbjs.que.push((()=>{pbjs.rp.requestBids({callback:()=>{i()},timeout:2e3,gptSlotObjects:[t],data:{inventory:{loctype:e,platform:r}}})}))})():r()}))}},L=class extends M{constructor(e){super(e),this.rubiconWrapperScriptLoader=void 0,this.wrapperLoaded=void 0,this.pageViewID=void 0,this.pageCount=void 0,this.wrapperLoaded=!1,this.pageCount=0}getScripts(e=!0){var t=super.getScripts(!1);return this.rubiconWrapperScriptLoader=new C({fetchMargin:this.config.fetchMargin,renderMargin:this.config.renderMargin,scriptSources:["MOBILE"===this.config.userAgentCategory?A.RUBICON_MOBILE:A.RUBICON_DESKTOP],recordScriptLoadFailure:this.config.recordScriptLoadFailure}),t}preCreateSlot(e){var t,r;super.preCreateSlot(e);var i=null==e||null==(t=e.targeting)||null==(r=t.pv_id)?void 0:r[0];this.pageViewID!==i&&(this.pageCount+=1,this.pageViewID=i)}refreshSlot(e,t,r,i){t&&!this.wrapperLoaded&&this.pageCount<=1?r():this.rubiconWrapperScriptLoader.loadScripts().then((()=>{this.wrapperLoaded=!0,super.refreshSlot(e,t,r,i)}))}},D={init(){X("i",arguments)},fetchBids(){X("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]},P=class{constructor(e){this.context=void 0,this.config=void 0,this.amazonSupportedFormats=void 0,this.getScripts=e=>e?[A.AMAZON_PREBID]:[],this.preCreateSlot=e=>{},this.config=e,globalThis.apstag=globalThis.apstag||D,this.amazonSupportedFormats="MOBILE"===e.userAgentCategory?Y:J,apstag.init({pubID:"3940",adServer:"googletag",useSafeFrames:!0})}setContext(e){this.context=e}slotSupportsBidding(e){var t=e.getSizes();return!!Array.isArray(t)&&t.filter((e=>"object"==typeof e&&null!==e&&e.getWidth()&&e.getHeight())).map((e=>({width:e.getWidth(),height:e.getHeight()}))).some((e=>this.amazonSupportedFormats.some((t=>t.width===e.width&&t.height===e.height))))}refreshSlot(e,t,r,i){googletag.cmd.push((()=>{var t=this.context.getSlot(e);t&&this.slotSupportsBidding(t)?apstag.fetchBids({slots:[{slotID:t.getSlotElementId(),slotName:t.getAdUnitPath(),sizes:t.getSizes().filter((e=>"object"==typeof e&&null!==e&&e.getWidth()&&e.getHeight())).map((e=>[e.getWidth(),e.getHeight()]))}],timeout:2e3},(e=>{apstag.setDisplayBids(),i()})):r()}))}},B=class{constructor(){this.skippedServers=0,this.requestedRefresh=!1,this.bidsFetched=0}},_=class extends T{constructor(e,t){super(e),this.servers=void 0,this.slotStatuses=void 0,this.servers=t,this.slotStatuses=new Map;var r=this.servers.flatMap((e=>(e.setContext(this),e.getScripts(!0))));r.length&&(this.scriptLoader=new C({fetchMargin:e.fetchMargin,renderMargin:e.renderMargin,scriptSources:[A.GPT,...r],recordScriptLoadFailure:e.recordScriptLoadFailure}))}createSlot(e){return this.servers.forEach((t=>{t.preCreateSlot(e)})),super.createSlot(e)}skipServer(e,t=!1){var r=this.slotStatuses.get(e)||new B;r.skippedServers<this.servers.length-1?(r.skippedServers+=1,this.slotStatuses.set(e,r)):(r.requestedRefresh=!0,this.slotStatuses.set(e,r),super.refreshSlot(e,t))}doRefresh(e,t=!1){var r=this.slotStatuses.get(e)||new B;r.requestedRefresh||(r.bidsFetched+=1,r.bidsFetched<this.servers.length-r.skippedServers?this.slotStatuses.set(e,r):this.getSlot(e)&&(r.requestedRefresh=!0,this.slotStatuses.set(e,r),super.refreshSlot(e,t)))}refreshSlot(e,t=!1){this.slotStatuses.set(e,new B),this.servers.forEach((r=>{r.refreshSlot(e,t,(()=>this.skipServer(e,t)),(()=>this.doRefresh(e,t)))}))}},x=class e extends T{constructor(e){super(e)}static getAdBase(e){return e.replace(/\.s\//,".test.s/")}createSlot(t){var{id:r,targeting:i}=t,s=H(t,["id","targeting"]);return Object.assign({targeting:i},s),super.createSlot(Object.assign({id:r,targeting:Object.assign({},i,{adBase:e.getAdBase(i.adBase)})},s))}destroySlot(e){super.destroySlot(e)}refreshSlot(e,t=!1){super.refreshSlot(e,t)}},F=o({targeting:{},setTargeting:()=>{}}),N=v.component.onUsage((()=>t("nCvudh/nY_EFj")),"default"),R=o(null),j=d(re),($=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PageTargetingQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"pageAdsRequestInput"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"AdContext_PageAdsRequestInput"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"gptInfo"},"name":{"kind":"Name","value":"AdContext_getPageAdsBatch"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requests"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"pageAdsRequestInput"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"adBase"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ppid"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"pageLevelTargeting"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"key"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":240}}')).__key=0xab2a059eff8f,e({A:R,G:T,P:_,R:M,T:x,_:H,a:se,b:P,c:ee,d:ie,e:F,f:te,g:q,u:oe})},[e=>(r=e.default,i=e.useState,s=e.useCallback,a=e.useEffect,o=e.createContext,n=e.useMemo,d=e.memo,l=e.useContext),e=>(g=e.Device,c=e.Debug,u=e.Environment,h=e.Route,p=e.Visitor,m=e.TravelInfo),e=>(v=e,S=e.importScript),e=>f=e.useLogAdScriptLoadFailure,e=>b=e.default,e=>I=e.default,e=>(y=e.requestConsent,w=e.CategoriesEnum),e=>E=e.enqueue,e=>k=e.useQuery,e=>O=e.stringHash]]},["cDcdfi","2R4xv2","pLbCP4","wzAQTx","jaCyxS","vmXh3M","lMO0v3","fsml46","5X2em-","O-HcBE"]]);
