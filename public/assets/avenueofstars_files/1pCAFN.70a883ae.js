(this.$WP=this.$WP||[]).push(["1pCAFN",(e,i)=>{"use strict";var t,n,a,r,l,s,o,d,c,m,u,k,v,p,_,f,b,h,g,y,N={sms:19907,email:55593,clipboard:19905},T=({url:e,itemType:i,itemId:t,action:r,type:l,children:s,disableMcidTracking:c})=>{var{domainName:m}=a(d),u=e.startsWith("/")?`https://${m}${e}`:e,k=o({module:"ShareCta",action:r,context:`${i}|${t}|${u}`,value:l&&"repost_action"!==l?N[l]:void 0});return n.createElement("div",{onClick:k},s(l&&"repost_action"!==l&&!c?((e,i,t)=>{if("LinkPost"===i)return e;var n=`${-1!==e.indexOf("?")?"&":"?"}m=${t}`;return-1!==e.indexOf("#")?e.replace("#",`${n}#`):`${e}${n}`})(u,i,N[l]):u))},E="_3idHdbyJ",S="Fk50IqWd",I=({iconName:e,localizedText:i,onClickFunction:t,size:r})=>{var{cdnPrefix:l}=a(d);return n.createElement("li",{onClick:t,className:k("_3JDcFqle",{[S]:"small"===r,[E]:"large"===r})},e.startsWith("/")?n.createElement("img",{src:`${l}${e}`,className:k("Aww4xCHf",{[S]:"small"===r,[E]:"large"===r})}):n.createElement(u,{name:e,color:"primaryIcon",size:"large"===r?20:18}),n.createElement("span",{className:"_1Su_kTAs"},i))},D=({url:e,itemType:i,size:n})=>{var a,{localize:r}=s();return a="LinkPost"===i?r.string("share_sms_link"):"ReadTrip"===i?r.string("trips_share_email_subject"):"WriteTrip"===i?r.string("trips_collaborate_invite_email_subject"):r.string("link_share_sms_checkthisout"),t.createElement(I,{iconName:"text-message",localizedText:r.string("link_share_option_sms"),size:n,onClickFunction:()=>((e,i)=>{var t=`${i} ${e}`;t.length>140&&(t=e),window.location.href=`sms:?&body=${encodeURIComponent(t)}`})(e,a)})},x=["Restaurant_Review","Attraction_Review","MobileAttraction_Review","AttractionProductReview","MobileAttractionProductReview","Hotel_Review","MobileHotel_Review"],C=({url:e,subject:i,firstSentence:n,textBeforeLink:a,textAfterLink:r,size:l})=>{var{localize:o}=s();return t.createElement(I,{iconName:"email",localizedText:o.string("link_share_option_email"),size:l,onClickFunction:()=>((e,i,t,n,a,r)=>{var l=encodeURIComponent(i),s=encodeURIComponent(a),o=encodeURIComponent(r),d=encodeURIComponent(t||e("share_email_subject")),c=`${n||e("link_share_sms_checkthisout")}%0D%0A%0D%0A${s?`${s}%0D%0A`:""}${l}%0D%0A${o?`${o}%0D%0A`:""}%0D%0A${e("ib_share_booking_download_app")}%0D%0A${e("app_download_url_secure")}`;window.location.href=`mailto:?subject=${d}&body=${c}`})(o.string,e,i,n,a,r)})},w=e=>{var{localize:i}=s();if(x.indexOf(e.itemType)>-1)return t.createElement(v,{query:f,variables:{locationId:e.itemId}},(({fetching:n,data:a})=>{var r,l;if(n||!a)return t.createElement(C,e);var s=(null==(r=a.locations)||null==(l=r[0])?void 0:l.name)||"";return t.createElement(C,Object.assign({},e,{subject:i.string("link_share_email_subject",{0:s}),firstSentence:i.string("mobile_here_is_a_place_i_found_8e0"),textBeforeLink:s}))}));if("Review"===e.itemType)return t.createElement(v,{query:b,variables:{reviewId:e.itemId}},(({fetching:n,data:a})=>{var r,l;return n||!a?t.createElement(C,e):t.createElement(C,Object.assign({},e,{firstSentence:i.string("share_email_reviews"),textBeforeLink:(null==(r=a.reviews)||null==(l=r[0])?void 0:l.title)||""}))}));if("Photo"===e.itemType)return t.createElement(v,{query:h,variables:{id:e.itemId}},(({fetching:n,data:a})=>{var r;return n||!a?t.createElement(C,e):t.createElement(C,Object.assign({},e,{firstSentence:i.string("share_email_photos"),textBeforeLink:(null==(r=a.photos)?void 0:r[0].caption)||""}))}));if("Video"===e.itemType)return t.createElement(v,{query:g,variables:{id:e.itemId}},(({fetching:n,data:a})=>{var r;return n||!a?t.createElement(C,e):t.createElement(C,Object.assign({},e,{firstSentence:i.string("share_email_videos"),textBeforeLink:(null==(r=a.videos)?void 0:r[0].caption)||""}))}));if("LinkPost"===e.itemType)return t.createElement(C,Object.assign({},e,{subject:i.string("share_email_link_subject"),firstSentence:i.string("share_email_link"),textAfterLink:i.string("share_email_link_attribution")}));if("ForumPost"===e.itemType)return t.createElement(C,Object.assign({},e,{firstSentence:i.string("share_email_forumtopic")}));if("ForumResponse"===e.itemType)return t.createElement(C,Object.assign({},e,{firstSentence:i.string("share_email_forumreply")}));if("WriteTrip"===e.itemType||"ReadTrip"===e.itemType){var n="WriteTrip"===e.itemType;return t.createElement(v,{query:y,variables:{id:e.itemId}},(({fetching:a,data:r})=>{var l=e;if(!a&&r){var s,o=r.trips&&r.trips.find((i=>i.id===e.itemId)),d={tripName:o&&o.title||""},c=null==o||null==(s=o.owner)?void 0:s.isMe;l=Object.assign({},e,{firstSentence:i.string("trips_share_email_hey"),subject:i.string("trips_share_email_subject"),textBeforeLink:i.string("trips_share_email_body_v2",d)}),n?(l.subject=i.string("trips_collaborate_invite_email_subject"),l.textBeforeLink=c?i.string("trips_collaborate_invite_email_body_v2",d):i.string("trips_collaborate_invite_email_body_collaborator_version",d)):c||(l.subject=i.string("trips_share_email_subject"),l.textBeforeLink=i.string("trips_email_share_collaborator_version",d))}return t.createElement(C,l)}))}return t.createElement(C,e)},A=({url:e,itemType:i,itemId:t,disableMcidTracking:r,headerComponent:l,close:s})=>{var{viewportCategory:o}=a(c);return n.createElement("div",{className:"_2qNMBNc2"},l,"MOBILE"===o&&n.createElement(T,{action:"share_select",itemType:i,itemId:t,url:e,type:"sms",disableMcidTracking:r},(e=>n.createElement(D,{url:e,itemType:i,size:"small"}))),n.createElement(T,{url:e,itemType:i,itemId:t,action:"share_select",type:"email",disableMcidTracking:r},(e=>n.createElement(w,{url:e,itemType:i,itemId:Number(t),size:"small"}))),n.createElement(T,{action:"share_select",itemType:i,itemId:t,url:e,type:"clipboard",disableMcidTracking:r},(e=>n.createElement(_,{url:e,size:"small",close:s}))))},$=({fixed:e,url:i,itemType:t,itemId:a,disableMcidTracking:r,shiftX:l,shiftY:s,children:o,headerComponent:d,alignEdge:c,above:u})=>n.createElement(m,{local:!0,closeButton:!1,fixed:e,above:u,below:!0,alignEdge:c,shiftX:l,shiftY:s,shiftArrow:l,arrowType:"small",contents:e=>n.createElement(A,{url:i,itemType:t,itemId:a,disableMcidTracking:r,headerComponent:d,close:e})},o),j=({url:e,itemType:i,itemId:t,headerComponent:a,onClick:r,alignEdge:l,above:s,shiftX:o,shiftY:d,hideText:c,disableMcidTracking:m})=>n.createElement(n.Fragment,null,n.createElement($,{url:e,itemType:i,itemId:t,disableMcidTracking:m,shiftX:o,shiftY:d,headerComponent:a,alignEdge:l,above:s},((a,l)=>n.createElement(T,{itemType:i,itemId:t,url:e,action:"share_button_click",disableMcidTracking:m},(()=>n.createElement(F,{onClick:e=>{r&&r(e),l()},target:a,hideText:c})))))),F=({size:e="small",variant:i="clear-on-dark",onClick:t,target:a,hideText:l})=>{var{localize:o}=s(),d=o.string("link_share_share");return n.createElement(r,Object.assign({size:e,variant:i,iconName:"share",onClick:t,ref:a},l?{"aria-label":d}:{children:d}))},L=e=>{var i="MOBILE"===e.viewportCategory,n=i?"right":"left",a=i?12:-28,r=i?8:12;return t.createElement(m,{above:!0,alignEdge:n,shiftX:a,shiftY:-8,shiftArrow:r,arrowType:"small",contents:()=>t.createElement("span",{className:"JNF5ebbW"},t.createElement(l,{id:"social_Coming_soon"})),local:!0},((e,n)=>t.createElement(F,{onClick:n,target:e,hideText:i})))};return[()=>{T.defaultProps={type:null,disableMcidTracking:!1},I.defaultProps={onClickFunction:()=>!1},(f=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PoiDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":103}}')).__key=30493395597162,(b=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ReviewDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reviews"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"reviewIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":99}}')).__key=8049210694612,(h=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PhotoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"photoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0xf892e2b2908,(g=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"VideoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"videos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"videoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0x71275c1e8de7,(y=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"TripDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"trips"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"tripIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"owner"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":117}}')).__key=0x7db41de4facd,C.defaultProps={firstSentence:"",subject:"",textBeforeLink:"",textAfterLink:""},_=class extends t.Component{constructor(...e){super(...e),this.state={copied:!1},this.copyAndClose=(e,i)=>{var t=p.copy(e);return t&&(this.setState({copied:!0}),setTimeout((()=>i()),3e3)),t}}render(){return t.createElement(I,{iconName:"link",size:this.props.size,localizedText:this.state.copied?t.createElement(l,{id:"link_share_link_copied"}):t.createElement(l,{id:"link_share_option_clipboard"}),onClickFunction:this.state.copied?void 0:()=>this.copyAndClose(this.props.url,this.props.close)})}},$.defaultProps={fixed:!1,shiftX:0,shiftY:0,headerComponent:null,alignEdge:"right"},j.defaultProps={headerComponent:null,onClick:void 0,above:!1,shiftX:6,shiftY:4},e("default",j),e({DisabledAction:L,SharePopover:$})},[e=>(t=e,n=e.default,a=e.useContext),e=>r=e.CircularButton,e=>(l=e.default,s=e.useLocalize),e=>o=e.useGARecordCallback,e=>(d=e.Environment,c=e.Device),e=>m=e.default,e=>u=e.default,e=>k=e.default,e=>v=e.Query,e=>p=e.default]]},["cDcdfi","7yGKf-","0DsHEV","fsml46","2R4xv2","eDFcUX","pyY-iJ","jSLlaY","5X2em-","vLhQxP"]]);
