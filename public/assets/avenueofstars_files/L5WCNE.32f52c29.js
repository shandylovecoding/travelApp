(this.$WP=this.$WP||[]).push(["L5WCNE",(e,t)=>{"use strict";var a,r,l,i,o,n,_,d,c,E,m,s,p,I,O=({value:e,selected:t,labelText:l,onSelect:i,children:o})=>a.createElement("div",{className:"_32ZufFp4"},a.createElement(r,{value:e,selected:t,onSelect:i,label:a.createElement("span",{className:t?"cX9pI1Xe":"_1ugkkg7h"},l)}),a.createElement("div",{className:"BZDCmin_"},t&&o)),R=({required:e,minLength:t,maxLength:r=250,label:l=(!0===e?a.createElement(o,{id:"social_report_level2_6b"}):a.createElement(n,{id:"social_report_level2_5"})),value:_,onChange:d})=>a.createElement(i,{label:l,value:_,state:_.length>r?"count-error":void 0,characterCountType:"max",onChange:d,minLength:t,maxLength:r}),T=()=>{throw new Error("This reason does not have a label")},u=e=>p[e],b=e=>p[e].id<0,N=()=>a.createElement("div",{className:"_3JyyU5GO"},a.createElement("p",{className:"_2cbIEE_M",style:{textAlign:"center"}},a.createElement(o,{id:"social_report_ty2"})," "),a.createElement("p",{className:"o74-RvSL"},a.createElement(o,{id:"social_report_ty2b"})," "),a.createElement(c,null)),v=()=>a.createElement("div",{className:E("_3QCXkQou","n3QmS_jU")},a.createElement(o,{id:"social_report_prof_err"})," "),L=({stage:e,onClose:t,children:r})=>a.createElement(d,{title:a.createElement("div",{id:"ReportIAP",className:"_2jEejRBf"},a.createElement(_,{name:"flag"}),a.createElement("span",{className:"_1modvWz9"},a.createElement(o,{id:"report_problem_ffffff85"}))),onClose:t},"thankyou"===e&&a.createElement(N,null),"error"===e&&a.createElement(v,null),"panel"===e&&a.createElement("div",{className:"_2KwWSEyW"},a.createElement(l,{name:"ReportIAP",ariaLabelledBy:"ReportIAP"},r))),f={ForumPost:"FORUMPOST",Review:"USERREVIEW",ManagementResponse:"USERREVIEW",Photo:"MEDIA",Video:"MEDIA",Trip:"2",LinkPost:"1",Repost:"3",Profile:"4",LocationTopic:"LOCATION_TOPIC",LocationPosting:"LOCATION_POSTING"},P=e=>{var[t,r]=a.useState("panel"),l=(({contentType:e,contentId:t,submission:r})=>{var{securityToken:l}=a.useContext(m);return a.useCallback((()=>{if(!r)return Promise.reject(new Error("No submission data!"));var a=f[e],i=new URLSearchParams([["action","reportIAP"],["step","SAVE"],["contentId",t],["voteContentType",a],["comment",r.comment],["reasonId",`${u(r.reason).id}`]]);if(r.suggestedLocationId&&i.set("suggestedLocationId",`${r.suggestedLocationId}`),I.has(a))return((e,t)=>fetch(e,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",headers:{"X-Requested-By":t}}))(`/ReportIAP?${i.toString()}`,l);throw new Error("Only legacy inputs are supported through the Lithium-ported iat-reporting! Feel free to add the remaining ones from public.iat-reporting")}),[e,t,l,r])})(e);return a.useMemo((()=>[t,()=>l().then((()=>{r("thankyou")})).catch((()=>{r("error")}))]),[t,l])},A=(e,t)=>{if("changeReason"===t.type)return{selected:t.payload.reason,validator:t.payload.validator,form:e.form};if("modifyBody"===t.type&&e.selected)return{selected:e.selected,validator:e.validator,form:Object.assign({},e.form,{[e.selected]:t.payload})};throw new Error(`Tried to dispatch action type ${t.type} that does not exist`)},S=e=>{var[t,r]=a.useReducer(A,{selected:e?e.reason:null,validator:e&&e.validator,form:{}});return a.useMemo((()=>{var e=t.selected&&t.form[t.selected]||{comment:void 0};return[{selected:t.selected,disabled:!t.selected||t.validator&&!t.validator(e),form:e},r]}),[t])},h=(e,t)=>a.useMemo((()=>e?{reason:e,comment:t.comment||""}:null),[e,t]),g=({onBack:e})=>a.createElement(s,{legacyStyled:!0,variant:"secondary",onClick:e,fullWidth:!0},a.createElement(o,{id:"com_fyf_p2_011"})," "),C="vgGkKfJ9",y=({disabled:e,onBack:t,onSubmit:r})=>{var l="MOBILE"===a.useContext(m).viewportCategory;return a.createElement(a.Fragment,null,l&&a.createElement("div",{className:"hlrQZ1JM"},a.createElement(s,{legacyStyled:!0,disabled:!0},null)),a.createElement("div",{className:E("_3g8GjfUU",l&&"_1OU-RYIJ")},t&&a.createElement("div",{className:C},a.createElement(g,{onBack:t})),a.createElement("div",{className:C},a.createElement(s,{legacyStyled:!0,variant:"primary",disabled:e,onClick:r,fullWidth:!0},a.createElement(o,{id:"common_Submit"})))))},w=(e,t)=>a.useCallback((a=>{var r=(a.comment||"").trim();return!(r.length>t||r.length<e)}),[e,t]),M=({selected:e,reason:t,comment:r="",dispatch:l,minLength:i=0,maxLength:o=250})=>{var n=w(i,o);return a.createElement(O,{value:t,selected:e===t,labelText:u(t).label,onSelect:()=>{l({type:"changeReason",payload:{reason:t,validator:n}})}},a.createElement(R,{value:r,onChange:e=>{l({type:"modifyBody",payload:{comment:e.currentTarget.value}})},minLength:i,maxLength:o,required:!!i}))},W=({selected:e,reason:t,dispatch:r,children:l})=>a.createElement(O,{value:t,selected:e===t,labelText:u(t).label,onSelect:()=>{r({type:"changeReason",payload:{reason:t,validator:()=>!1}})}},l);return[()=>{p={DUPLICATE_CONTENT:{id:5,label:a.createElement(n,{id:"social_report_reason_photos2"})},WRONG_LOCATION:{id:6,label:a.createElement(o,{id:"report_review_radio_8"})},CLOSED:{id:8,label:a.createElement(o,{id:"report_review_radio_21"})},OTHER:{id:9,label:a.createElement(o,{id:"report_review_radio_19"})},WRITTEN_BY_COMPETITOR:{id:19,label:a.createElement(o,{id:"report_review_radio_10"})},OWNER_RESPONSE:{id:21,label:a.createElement(T,null)},INAPPROPRIATE:{id:22,label:a.createElement(o,{id:"report_review_radio_9"})},NOT_ORIGINAL_REVIEW:{id:24,label:a.createElement(o,{id:"report_review_radio_16"})},NOT_TRAVELERS_OWN:{id:25,label:a.createElement(o,{id:"report_review_radio_13"})},PROMOTIONAL:{id:27,label:a.createElement(o,{id:"report_review_radio_24"})},REVIEW_NOT_CONSISTENT_WITH_RATING:{id:30,label:a.createElement(o,{id:"report_review_radio_12_ver_2"})},LOW_QUALITY:{id:31,label:a.createElement(o,{id:"iap_low_quality_ffffe4e2"})},COPYRIGHT_VIOLATION:{id:32,label:a.createElement(n,{id:"social_content_report_copyright_violation"})},BIASED:{id:37,label:a.createElement(o,{id:"report_review_radio_20"})},MORE_THAN_1_YEAR_AGO:{id:38,label:a.createElement(o,{id:"report_review_radio_11"})},CONTAINS_PRIVATE_INFO:{id:41,label:a.createElement(o,{id:"report_review_radio_18"})},PROFANE_EXPLICIT_HATE_SPEECH:{id:42,label:a.createElement(o,{id:"iap_profane_explicit_or_hate_speech"})},LINK_INCORRECT_OUTDATED_BROKEN:{id:43,label:a.createElement(o,{id:"iap_link_incorrect_outdated_broken"})},NOT_PERSONAL_EXPERIENCE:{id:45,label:a.createElement(o,{id:"iap_not_personal_experience"})},FALSE_MISLEADING_INFO:{id:46,label:a.createElement(o,{id:"iap_false_misleading_info"})},PROMOTES_ILLEGAL_ACTIVITY:{id:47,label:a.createElement(o,{id:"iap_promote_illegal_activity"})},PARTICIPATION_ILLEGAL_ACTIVITY:{id:48,label:a.createElement(o,{id:"iap_participate_illegal_activity"})},LINK_ILLEGAL_ACTIVITY:{id:50,label:a.createElement(o,{id:"iap_link_illegal_activity"})},SELF_PROMOTION_ADVERTISEMENT_SOLICITATION:{id:51,label:a.createElement(o,{id:"iap_forums_self_promotion"})},OFF_TOPIC:{id:52,label:a.createElement(o,{id:"iap_forums_off_topic"})},SPAM:{id:53,label:a.createElement(o,{id:"iap_forums_spam"})},DUPLICATE_FORUM:{id:54,label:a.createElement(o,{id:"iap_forums_duplicate"})},HARASSMENT:{id:55,label:a.createElement(o,{id:"iap_forums_harassment"})},PROFANITY_SEX_VIOLENCE_CRIME_HATE:{id:56,label:a.createElement(o,{id:"iap_forums_profanity_sex_violence_crime_hate"})},MULTIPLE_ACCOUNTS_OR_IMPERSONATION:{id:57,label:a.createElement(o,{id:"iap_forums_multiple_accounts_or_impersonation"})},PERSONAL_INFO:{id:58,label:a.createElement(o,{id:"iap_forums_personal_info"})},COPYRIGHTED:{id:59,label:a.createElement(o,{id:"iap_forums_copyrighted"})},TRIP_COPYRIGHT:{id:60,label:a.createElement(o,{id:"iap_trips_copyrighted"})},TRIP_NOT_TRAVEL_RELATED:{id:61,label:a.createElement(o,{id:"iap_trips_not_travel_related"})},TRIP_ERROR_OR_DISAGREE:{id:62,label:a.createElement(o,{id:"iap_trips_error_or_disagree"})},PROFILE_PROBLEM_WITH_PHOTO:{id:63,label:a.createElement(o,{id:"iap_profile_problem_with_pic"})},PROFILE_PROBLEM_WITH_LINK:{id:64,label:a.createElement(o,{id:"iap_profile_problem_with_link"})},PROFILE_IAP_USERNAME:{id:65,label:a.createElement(o,{id:"iap_profile_username"})},PROFILE_IAP_CONTRIBUTION:{id:66,label:a.createElement(o,{id:"iap_profile_contribution"})},PROFILE_PROBLEM_MY_ACCOUNT:{id:67,label:a.createElement(o,{id:"iap_profile_problem_my_account"})},PROFILE_UNWANTED_MESSAGE:{id:68,label:a.createElement(o,{id:"iap_profile_unwanted_messages"})},REPORT_THIS_REVIEW:{id:-1,label:a.createElement(o,{id:"report_review_radio_1"})},UPDATE_BUSINESS_DETAILS:{id:-2,label:a.createElement(o,{id:"report_review_radio_2"})},REPORT_BUSINESS_CLOSED:{id:-3,label:a.createElement(o,{id:"report_review_radio_3"})},EDIT_REMOVE_RESPONSE:{id:-4,label:a.createElement(o,{id:"report_review_radio_4"})},REPORT_OWNER_CHANGED:{id:-5,label:a.createElement(o,{id:"report_review_radio_5"})},REPORT_PHOTO:{id:-6,label:a.createElement(o,{id:"report_review_radio_6"})},REMOVE_LISTING:{id:-7,label:a.createElement(o,{id:"report_review_radio_7"})},DISAGREE_WITH_INFO:{id:-8,label:a.createElement(o,{id:"report_review_radio_17"})}},I=new Set(["USERREVIEW","MEDIA","LOCATION_TOPIC","LOCATION_POSTING"]),e({CommentBox:R,CommentOption:M,RedirectOption:W,ReportIAPRadio:O,ReportModal:L,SubmitVoteButton:y,forLabel:u,isOwnerReason:b,useFormToSubmission:h,useLengthValidator:w,useReportFlow:P,useReportForm:S})},[e=>a=e,e=>(r=e.RadioButton,l=e.RadioGroup),e=>i=e.TextArea,e=>(o=e.default,n=e.UnsafeLocalize),e=>_=e.default,e=>d=e.Modal,e=>c=e.SiftTrackingIframe,e=>E=e.default,e=>m=e.Device,e=>s=e.default]]},["cDcdfi","MsxLpS","7bbexq","0DsHEV","pyY-iJ","E1X9WP","f9x1OV","jSLlaY","2R4xv2","7yGKf-"]]);
