(this.$WP=this.$WP||[]).push(["vYoxP4",(e,t)=>{"use strict";var s,r,i,n,a,o,l,c,h,d,p,u,f,m,w,g,v,y,E,x,b,H,I=.5,k=1/3,S={aspectRatio:4/3,landscape:!1,itemsPerEntry:3,useHero:!0,paddingTop:0,paddingLeft:0},P=e=>({top:e.top,left:e.left,w:e.w,h:e.h,offset:e.offset,mode:"Hero"}),M={VHH:e=>{var t=P(e);return 0===e.offset?t.w*=f:1===e.offset?(t.left+=t.w*f,t.w*=u,t.h*=I):2===e.offset&&(t.left+=t.w*f,t.top+=t.h*I,t.w*=u,t.h*=I),t},HHV:e=>{var t=P(e);return 0===e.offset?(t.w*=u,t.h*=I):1===e.offset?(t.top+=t.h*I,t.w*=u,t.h*=I):2===e.offset&&(t.left+=t.w*u,t.w*=f),t},HHS:e=>{var t=P(e);return 0===e.offset?(t.w*=f,t.h*=I):1===e.offset?(t.top+=t.h*I,t.w*=f,t.h*=I):2===e.offset&&(t.left+=t.w*f,t.w*=u),t},SHH:e=>{var t=P(e);return 0===e.offset?t.w*=u:1===e.offset?(t.left+=t.w*u,t.w*=f,t.h*=I):2===e.offset&&(t.left+=t.w*u,t.top+=t.h*I,t.w*=f,t.h*=I),t},VVV:e=>{var t=P(e);return 1===e.offset?t.left+=t.w*k:2===e.offset&&(t.left+=2*t.w*k),t.w*=k,t},SSS:e=>{var t=M.VVV(e);return t.h*=I,t}},L={TileGallery:"hftSueD3",landscape:"_1rYR5CiI",scrollPane:"VrWxpeul",scrollPaneInner:"_3IvrVVJa",portrait:"AX6WYbgt",listView:"muuBrtCD",entry:"vSOIjuKr",notSelected:"foiso47e",entryInner:"kNyFEEHM",detail:"_18rQaJck",selected:"_1OapgpIF",singlet:"_1zvjTLWc",triplet1:"bMuE7xd7",triplet2:"_1Bk94xRp",triplet3:"_15mDcpHx",scrollLock:"o_Y5cKio"},T=({isRight:e,onClickHandler:t,disabled:s})=>{var{localize:i}=o();return r.createElement(h,{variant:"dark","aria-label":e?i.string("common_Next"):i.string("common_Previous"),iconName:e?"arrow-right":"arrow-left",disabled:s,onClick:t})},C=(...e)=>{},R=-1,_={transform:"none",transition:""},D=e=>{var{onNav:t=C,onClose:r=C,itemRenderer:n,totalItems:o,initialSelection:h=0,disableSwipe:d=!1,onHistoryBack:p=C,useHistoryApi:u=!0}=e,{isRtl:f}=s.useContext(a).locale,m=s.useRef(),v=s.useRef(),y=s.useRef(_),[E,x]=s.useState(h),b=(e,t)=>()=>e<0||e>=o?null:n(e,t),H=e=>{var t=m.current;y.current=Object.assign({},_,{},e),t.style.transform=e.transform||"",t.style.transition=e.transition||"none"},I=()=>{v.current&&clearTimeout(v.current),v.current=null},k=s.useCallback((e=>{if(0!==e){var s=Math.max(0,Math.min(o-1,E+e));t&&t(s),x(s)}}),[E,t,o]);s.useLayoutEffect((()=>{H(_)})),s.useEffect((()=>{var e=e=>{e.state&&"backToGallery"in e.state&&p&&u&&(window.history.pushState(null,"",null),p())};return p&&u&&(window.history.replaceState({backToGallery:!0},"",null),window.history.pushState(null,"",null),window.addEventListener("popstate",e)),()=>{p&&u&&(window.removeEventListener("popstate",e),window.history.back())}}),[]);var S=()=>{I(),H({transform:"none",transition:"transform 250ms ease-out"})},P=e=>(t,s)=>{I(),H({}),1===e&&E<=0||e===R&&E>=o-1?S():Math.abs(s)>50?(I(),H({transform:f?`translateX(${1===e?-100:100}%)`:`translateX(${e===R?-100:100}%)`,transition:"transform 250ms ease-out"}),v.current=setTimeout((()=>{k(-e),I()}),250)):S()},M=(e,t)=>{I(),Math.abs(t)>30?r(E):S()},L=e=>(t,s)=>{var r=e*s;if(f?(e===R&&E<=0||1===e&&E>=o-1)&&(r=e*Math.min(50,s)):(1===e&&E<=0||e===R&&E>=o-1)&&(r=e*Math.min(50,s)),v.current)return I(),void k(e);H({transition:"none",transform:`translateX(${r}px)`})},D=e=>(t,s)=>{I(),H({transition:"none",transform:`translateY(${e*s}px)`})},N=E>0?b(E-1,!1)():null,O=E<=o-1?b(E+1,!1)():null,V=b(E,!0)(),W=w[E%3],$=g[(E-1)%3],j=g[E%3],B=g[(E+1)%3],A=s.createElement(s.Fragment,{key:"slots"},s.createElement("div",{key:$,className:i({[W]:!0,[$]:!0})},N),s.createElement("div",{key:j,className:i({[W]:!0,[j]:!0})},V),s.createElement("div",{key:B,className:i({[W]:!0,[B]:!0})},O)),F=s.useCallback((()=>{k(1)}),[k]),z=s.useCallback((()=>{k(-1)}),[k]),Y=s.createElement(s.Fragment,null,s.createElement("div",{className:"_brO0_2I"},s.createElement(T,{onClickHandler:z,disabled:E<=0})),s.createElement("div",{className:"BIIVV35i"},s.createElement(T,{isRight:!0,onClickHandler:F,disabled:E>=o-1})));return s.createElement(l,{className:"_2C2jLfWu",delta:20,onSwipedLeft:d?C:P(f?1:R),onSwipedRight:d?C:P(f?R:1),onSwipedUp:d?C:M,onSwipedDown:d?C:M,onSwipingLeft:d?C:L(R),onSwipingRight:d?C:L(1),onSwipingUp:d?C:D(-1),onSwipingDown:d?C:D(1),preventDefaultTouchmoveEvent:!0,stopPropagation:!0},Y,s.createElement("div",{key:"sidescrollgallery-inner",ref:m,className:"_1SeSYba_",style:y.current},A),s.createElement(c,{keyName:["ArrowRight","Right"],callback:f?z:F,eventType:"keyup"}),s.createElement(c,{keyName:["ArrowLeft","Left"],callback:f?F:z,eventType:"keyup"}))},N=()=>s.createElement("span",{className:"_2AP35JZ6"},s.createElement(d,{name:"single-chevron-down"})),O=e=>{var{show:t,disableSwipe:r,totalItems:n,heroRenderer:a,initialSelection:o=0,onClose:l,onNav:c,showClose:h,closeButton:d,useHistoryApi:p=!0}=e,u=s.useCallback((e=>l(e,"swipe")),[l]),f=s.useRef(o),m=d?"div":"button";return s.createElement("div",{key:"detail-view",className:i({_2dz9Dke9:!0,_1WJNaUPI:!t})},t&&s.createElement(v,{disableSwipe:r,totalItems:n,itemRenderer:a,initialSelection:o,onClose:u,onNav:e=>{f.current=e,c&&c(e)},useHistoryApi:p}),h&&s.createElement(m,{className:"_1xDhzDoc",onClick:e=>{e.stopPropagation(),l(f.current,"icon_tap")}},d||s.createElement(N,null)))},V=(...e)=>{},W=["VHH","HHV","HHS","SHH","VVV"],$="scroll",j="select",B=-1,A=e=>{for(var t,r,{totalItems:l,showDetail:c=!1,showClose:h=!0,itemRenderer:d,heroRenderer:u,onControls:f=V,onItemSelect:w,disableSwipe:g,onClick:v=V,onNav:b=V,onClose:H=V,isLowContent:I=!1,landscape:k=!1,onScroll:P=V,paddingTop:T=0,paddingLeft:C=0,offsetTop:R=0,aspect:_=E,modes:D=W,useHero:N=!0,detailCloseButton:O,noHistoryManipulation:A,initialFocus:F}=e,z=!!w,Y=s.useRef(),G=s.useRef(),{localize:U}=o(),J=n(Y),{isRtl:K}=s.useContext(a).locale,X=s.useMemo((()=>((e,t,s=S)=>new p(e,t,s))(J,l,{aspectRatio:1/_,landscape:k,itemsPerEntry:I?1:3,useHero:N,paddingTop:T||0,paddingLeft:C||0})),[J,l,_,k,I,N,T,C]),[Q,q]=s.useReducer(((e,t)=>{var s=t=>(z&&w&&t.selectedIndex!==e.selectedIndex&&w(t.selectedIndex),t);switch(t.type){case $:return P&&P(t.scrollPosition-((k?C:T)||0)),s(Object.assign({},e,{scrollPosition:t.scrollPosition,selectedIndex:e.showDetail?e.selectedIndex:B}));case j:return t.selectedIndex===B?s(Object.assign({},e,{selectedIndex:t.selectedIndex,showDetail:t.selectedIndex>=0})):s(Object.assign({},e,{scrollPosition:k?X.entry(t.selectedIndex).left:X.entry(t.selectedIndex).top,selectedIndex:t.selectedIndex,showDetail:t.selectedIndex>=0}));default:return e}}),Object.assign({},x,{selectedIndex:F||B,showDetail:c||x.showDetail})),Z=s.useCallback(((e,t)=>q(Object.assign({},t,{type:e}))),[q]),{selectedIndex:ee,scrollPosition:te,showDetail:se}=Q,re=z?c:se,ie=X.getMetrics(te),{startEntry:ne,endEntry:ae}=ie,oe=s.useCallback((()=>G.current?k?G.current.scrollLeft:G.current.scrollTop:0),[k]),le=(e,t,s)=>{v(e,t,s),Z(j,{selectedIndex:e,animateSelect:!0})},ce=[],he=(t=D,r=[...t],e=>{var t=r[e.index%r.length];return Object.assign({},M[t](e),{mode:t})}),de=(e,t,r,n,a,o)=>{if(!t)return null;var l=ee===e,c=X.getLayout(e,a),h=K?"right":"left",d={top:`${c.top}px`,[h]:`${c.left}px`,width:`${c.w}px`,height:`${c.h}px`};l&&(d=Object.assign({},d,{transform:"scale(1.05)",transformOrigin:"50% 50%"}));var p=l?{role:"img","aria-label":U.string("common_Photos")}:{"aria-label":U.string("common_View_photo"),role:"button",tabIndex:0,onClick:()=>le(e,c.offset,c.mode),onKeyDown:t=>{"Enter"===t.key&&le(e,c.offset,c.mode)}};return s.createElement("div",Object.assign({},p,{key:n,className:i(L.entry,r,l?L.selected:L.notSelected),style:d}),s.createElement("div",{className:`${L.entryInner} ${o?L.detail:""}`},t(e,c.w,c.h)))},pe=e=>{var t,s;0===e&&N||I?(e=>{ce.push(de(e,d,L.singlet,`entry-${e}`,m))})(e):(t=e,s=X.indexFor(t,0),ce.push(...[L.triplet1,L.triplet2,L.triplet3].map(((e,t)=>s+t<l?de(s+t,d,e,`entry-${s+t}`,he):null)).filter((e=>null!==e))))},ue=ne;ue<=ae;ue++)pe(ue);var fe=ee>=0&&re,me=s.useMemo((()=>k?{width:`${X.spacer}px`}:{height:`${X.spacer}px`}),[k,X.spacer]),we=s.useRef(B),ge=s.useCallback((e=>{b&&b(e),z&&w?w(e):e>=0&&(Z(j,{selectedIndex:e}),we.current=e)}),[b,z,w,Z]),ve=s.useCallback(((e,t)=>{if(H(t),e>0){var s,r=X.entry(e);k?(s=Math.floor(r.left-X.entryWidth/2),s=Math.min(Math.max(0,s),X.totalWidth-J.w),G.current.scrollLeft=Math.min(X.scrollMax,s)):(s=Math.floor(r.top-X.entryHeight/2),s=Math.min(Math.max(0,s),X.totalHeight-J.h),G.current.scrollTop=Math.min(X.scrollMax,s))}Z(j,{selectedIndex:B})}),[Z,k,X,H,J.h,J.w]);s.useEffect((()=>{k?G.current.scrollLeft=Math.min(X.scrollMax,te):G.current.scrollTop=Math.min(X.scrollMax,te)}),[k]);var ye=s.useRef(_);s.useEffect((()=>{ye.current!==_&&G.current&&te&&(G.current&&te&&(G.current.scrollTop=te/ye.current*_),ye.current=_)}),[_,te]),s.useEffect((()=>{if(P&&G.current){var e=k?G.current.scrollLeft:G.current.scrollTop;P(e)}}),[k]),s.useEffect((()=>{f({backToTop:()=>{G.current.scrollTo(0,0),Z($,{scrollPosition:0})},closeDetail:()=>{re&&(H("controls"),Z(j,{selectedIndex:B}))},updateViewport:()=>!1,setSelectedIndex:e=>{ee!==e&&(Z(j,{selectedIndex:e}),we.current=e)}})}),[f,H,P,re,Z,ee]),s.useEffect((()=>{var e,t=()=>{re&&(Z(j,{selectedIndex:B}),ve(B,"history_back"))};return A||(re&&ee!==F?history.pushState({showDetail:c},document.title,location.href):(null==(e=history.state)?void 0:e.showDetail)&&history.back(),window.addEventListener("popstate",t,!1)),()=>{A||window.removeEventListener("popstate",t)}}),[re]);var Ee={top:R||0,display:re?"none":void 0};return s.createElement("div",{className:i({[L.TileGallery]:!0,[L.landscape]:k,[L.portrait]:!k,[L.scrollLock]:fe}),ref:Y},s.createElement("div",{key:"scroll-pane",className:L.scrollPane,ref:G,onScroll:()=>{var e=oe(),t=Q.scrollPosition;Math.abs(e-t)>=X.scrollThreshold?Z($,{scrollPosition:e}):P(e)},style:Ee},s.createElement("div",{key:"scroll-pane-inner",className:L.scrollPaneInner,style:me},s.createElement("div",{key:"list-view",className:`${L.listView}`},ce))),s.createElement(y,{show:re,disableSwipe:!!g,totalItems:l,heroRenderer:u,initialSelection:ee,onClose:ve,onNav:ge,showClose:h,closeButton:O,useHistoryApi:!A}))};return[()=>{f=1-(u=1/1.618),p=class{constructor(e,t,s=S){this.viewport=void 0,this.landscape=void 0,this.totalItems=void 0,this.aspectRatio=void 0,this.useHero=void 0,this.itemsPerEntry=void 0,this.paddingTop=void 0,this.paddingLeft=void 0;var r=Object.assign({},S,{},s);this.totalItems=t,this.viewport=e,this.landscape=r.landscape,this.aspectRatio=r.aspectRatio,this.useHero=r.useHero,this.itemsPerEntry=r.itemsPerEntry,this.paddingTop=r.paddingTop,this.paddingLeft=r.paddingLeft}resize(e,t){this.viewport={w:e,h:t}}get entryHeight(){return this.landscape?this.viewport.h-this.paddingTop:this.viewport.w/this.aspectRatio}get entryWidth(){return this.landscape?this.viewport.h*this.aspectRatio:this.viewport.w-this.paddingLeft}get entriesPerPage(){return this.landscape?this.viewport.w/this.entryWidth:this.viewport.h/this.entryHeight}get heroOffset(){return this.useHero?1:0}get totalEntries(){return Math.ceil((this.totalItems-this.heroOffset)/this.itemsPerEntry)+this.heroOffset}get totalHeight(){return this.landscape?this.viewport.h:this.entryHeight*this.totalEntries+this.paddingTop}get totalWidth(){return this.landscape?this.entryWidth*this.totalEntries+this.paddingLeft:this.viewport.w}get maxScroll(){return this.landscape?Math.max(this.totalWidth-this.viewport.w,0):Math.max(this.totalHeight-this.viewport.h)}entry(e){var t=e-this.heroOffset;if(this.useHero&&t<0)return{index:0,offset:0,top:this.paddingTop,left:this.paddingLeft,bottom:0,right:0,w:this.entryWidth,h:this.entryHeight};var s=Math.max(0,this.heroOffset+Math.trunc(t/this.itemsPerEntry));return{index:s,offset:Math.max(0,t%this.itemsPerEntry),top:this.landscape?this.paddingTop:s*this.entryHeight+this.paddingTop,left:this.landscape?s*this.entryWidth+this.paddingLeft:this.paddingLeft,w:this.entryWidth,h:this.entryHeight}}indexFor(e,t=0){return 0===e?0:(e-this.heroOffset)*this.itemsPerEntry+t+this.heroOffset}pageFor(e){var{index:t}=this.entry(e);return Math.floor((t+1)/this.entriesPerPage)}get lastPage(){return this.pageFor(this.totalItems-1)}getMetrics(e){var{lastPage:t,entriesPerPage:s,itemsPerEntry:r,entryWidth:i,entryHeight:n}=this,a=Math.trunc(e/(this.landscape?i:n)/s),o=Math.ceil(Math.max(a-2,0)*s),l=Math.ceil((this.totalItems-this.heroOffset)/r)+this.heroOffset-1;return{currentPage:a,startEntry:o,endEntry:Math.min(l,Math.ceil(Math.min(t,a+1)*s+s)),lastPossibleEntry:l,entriesPerPage:s,lastPage:t,entryWidth:i,entryHeight:n,itemsPerEntry:r}}get scrollMax(){return this.spacer-(this.landscape?this.viewport.w:this.viewport.h)}get scrollThreshold(){return(this.landscape?this.viewport.w:this.viewport.h)/2}get spacer(){return Math.ceil(this.totalEntries*(this.landscape?this.entryWidth:this.entryHeight))}getLayout(e,t){return t(this.entry(e))}},m=P,w=["_1C46bBEt","_3bVs3aYd","_26OTCDzq"],g=["_2VL91ztB","_3QyoQiLS","_12a0L2wi"],v=s.memo(D),y=s.memo(O),E=1/1.618,x={scrollPosition:0,selectedIndex:B,showDetail:!1},b={backToTop:V,closeDetail:V,updateViewport:V,setSelectedIndex:null},H=s.memo(A),e({DEFAULT_CONTROLS:b,DEFAULT_MODES:W,GOLDEN_ASPECT:E,TileGallery:H})},[e=>(s=e,r=e.default),e=>i=e.default,e=>n=e.useElementSize,e=>a=e.Environment,e=>o=e.useLocalize,e=>l=e.default,e=>c=e.default,e=>h=e.CircularButton,e=>d=e.default]]},["cDcdfi","jSLlaY","Bk-fue","2R4xv2","0DsHEV","Uau69a","8xs-IB","7yGKf-","pyY-iJ"]]);
