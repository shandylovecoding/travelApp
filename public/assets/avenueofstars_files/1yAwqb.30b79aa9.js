(this.$WP=this.$WP||[]).push(["1yAwqb",(e,l)=>{"use strict";var t,s,o,a,n,r,c,i,d,u,m,b,p,E,C,f=({onBack:e,titleText:l})=>{var{localize:s}=C(),o=t.useRef(null);return t.useEffect((()=>{null!=o.current&&o.current.focus()}),[]),t.createElement("div",{className:"_1NNb21_D"},t.createElement("div",{className:"_6OECxvR8"},t.createElement(E,{ref:o,iconName:"single-chevron-left",variant:"clear",onClick:e,"aria-label":s.string("common_Close")})),t.createElement("div",{className:"_393BZ5Sz"},t.createElement("div",{className:"_1SI_b6JH"},l||s.string("media_viewer_title_photos"))))},I={albumSelect:"ALBUM",initialAlbumUpdate:"INITIAL_ALBUM_UPDATE",setHeaderMode:"SET_HEADER_MODE",scroll:"SCROLL",galleryItemClicked:"GALLERY_CLICK",fullscreenNav:"FULLSCREEN_NAV",fullscreenClose:"FULLSCREEN_CLOSE",close:"CLOSE"},A={headerMode:"full",selectedIndex:-1,scrollPosition:0},M=e=>{var{galleryRenderer:l,fullRenderer:E,totalCount:C,quickAlbumsDefinition:M,selectedAlbumId:L,selectedMediaId:_,disableFullscreenNavigation:y,disableFullscreenClose:h,actionHandler:S,titleText:g,titleNode:v,noHistoryManipulation:k,close:N,mobileButtonMenus:D,layoutStyle:R,useHero:T,forceV3:O,isLowContent:x}=e;b(!0);var{isRtl:P}=t.useContext(p).locale,w=c().landscape&&!P,H=t.useRef(!1),[B,U]=t.useReducer(((e,l)=>{try{S&&"INITIAL_ALBUM_UPDATE"!==l.type&&S(l)}catch(e){}switch(l.type){case I.albumSelect:return Object.assign({},e,{albumId:l.albumId,headerMode:"showAll"===e.headerMode?"full":e.headerMode,selectedIndex:-1,scrollPositon:0});case I.setHeaderMode:return Object.assign({},e,{headerMode:l.headerMode});case I.initialAlbumUpdate:return Object.assign({},e,{albumId:l.initialAlbumId});case I.galleryItemClicked:return Object.assign({},e,{selectedIndex:l.selectedIndex});case I.scroll:return Object.assign({},e,{scrollPosition:l.position});case I.fullscreenClose:return Object.assign({},e,{selectedIndex:-1});default:return e}}),Object.assign({},A)),{headerMode:F,selectedIndex:j,scrollPosition:V}=B,G=t.useRef(Object.assign({},i)),q=t.useCallback((e=>{G.current=e}),[]);t.useEffect((()=>{H.current?(G.current.backToTop(),G.current.closeDetail()):H.current=!0}),[L]),t.useEffect((()=>{_||G.current.closeDetail()}),[_]),t.useEffect((()=>{M&&0!==M.length?"none"===F&&U({type:I.setHeaderMode,headerMode:"full"}):U({type:I.setHeaderMode,headerMode:"none"})}),[M,F]);var z=t.useCallback((e=>{U({type:I.scroll,position:e})}),[]),W=t.useCallback((e=>{U({type:I.fullscreenClose,closeType:e})}),[]),J=t.useCallback(((e,l,t)=>{U({type:I.galleryItemClicked,selectedIndex:e,offset:l,mode:t})}),[]),K=t.useCallback((e=>{U({type:I.fullscreenNav,newIndex:e})}),[]),Q="grid"===R?["VVV"]:u,Y="grid"===R?1/4:m,[$,Z]=w?n:r;"none"===F&&(w?$=0:Z=0);var X=t.useMemo((()=>t.createElement(d,{heroRenderer:E,itemRenderer:l,showClose:!h,totalItems:C||20,onClose:W,onNav:K,disableSwipe:y,onControls:q,landscape:w,isLowContent:C<10&&!1!==x,onScroll:z,paddingTop:Z,paddingLeft:$,noHistoryManipulation:k})),[h,y,E,l,z,w,$,W,K,q,Z,C,k,x]),ee=t.useCallback(((e,s)=>t.createElement(d,{heroRenderer:E,itemRenderer:l,showClose:!h,totalItems:C||20,onClick:J,onClose:W,onNav:K,disableSwipe:y,onControls:q,landscape:!1,isLowContent:C<10&&!1!==x,onScroll:z,paddingTop:e,paddingLeft:s,noHistoryManipulation:k,useHero:T,modes:Q,aspect:Y})),[h,y,E,l,z,W,K,J,q,C,k,Q,Y,T,x]),le=e=>{"showAll"===e?U({type:I.setHeaderMode,headerMode:"full"}):(U({type:I.close}),N&&N())},te=e=>{U({type:I.albumSelect,albumId:e})};return O||o("hr_mv_mobile_filters_sort")?t.createElement(s,{quickAlbums:M,selectedId:L,onSelect:te,contentFocus:j>=0,scrollPosition:V,topBar:v?v((()=>le(F))):t.createElement(f,{titleText:g,onBack:()=>le(F)}),isLandscape:w,buttonMenus:D},ee):t.createElement(a,{quickAlbums:M,mode:F,selectedId:L,onShowAll:()=>U({type:I.setHeaderMode,headerMode:"showAll"}),onSelect:te,contentFocus:j>=0,scrollPosition:V,topBar:v?v((()=>le(F))):t.createElement(f,{titleText:g,onBack:()=>le(F)}),isLandscape:w},X)};return[()=>{e("default",M),e("mvActions",I)},[e=>t=e,e=>s=e.QuickAlbumsMobileLayout,e=>o=e.featureIsEnabled,e=>(a=e.QuickAlbumsMobileLayout,n=e.LANDSCAPE_MODE_PADDING,r=e.PORTRAIT_MODE_PADDING),e=>c=e.useViewport,e=>(i=e.DEFAULT_CONTROLS,d=e.TileGallery,u=e.DEFAULT_MODES,m=e.GOLDEN_ASPECT),e=>b=e.useBlockScroll,e=>p=e.Environment,e=>E=e.CircularButton,e=>C=e.useLocalize]]},["cDcdfi","UuUmq4","-i3PJS","oyVz2k","Bk-fue","vYoxP4","xegF5W","2R4xv2","7yGKf-","0DsHEV"]]);
